{"version":3,"sources":["_carousel/mode-slide.js"],"names":["define","langx","events","eventer","Emitter","inherit","_construct","carsouel","this","jump","type","next","elmx","options","$active","$","getActiveItem","$next","getItemForDirection","isCycling","interval","direction","hasClass","moving","relatedTarget","movingEvent","create","trigger","isDefaultPrevented","pause","_indicators","setActiveIndicator","getItemIndex","movedEvent","addClass","reflow","one","removeClass","join","setTimeout","emulateTransitionEnd","cycle"],"mappings":";;;;;;;AAACA,QACC,sBACA,uBACA,wBACA,SAASC,EAAMC,EAAOC,GACtB,aA0EA,OAvEgBD,EAAOE,QAAQC,SAG7BC,WAAa,SAASC,GACrBC,KAAKD,SAAWA,GAGjBE,KAAO,SAASC,EAAMC,GACrB,IAAIJ,EAAWC,KAAKD,SACZA,EAASK,OACNL,EAASM,QAEjB,IAAIC,EAAWP,EAASQ,EAAER,EAASS,iBAClCC,EAAQN,GAAQJ,EAASW,oBAAoBR,EAAMI,GACnDK,EAAYZ,EAASa,SACrBC,EAAoB,QAARX,EAAiB,OAAS,QAEvC,GAAIO,EAAMK,SAAS,UAClB,OAAQf,EAASgB,QAAS,EAG3B,IAAIC,EAAgBP,EAAM,GAEtBQ,EAActB,EAAQuB,OAAO,yBAC7BF,cAAeA,EACfH,UAAWA,IAIf,GADAd,EAASoB,QAAQF,IACbA,EAAYG,qBAAhB,CAEArB,EAASgB,QAAS,EAElBJ,GAAaZ,EAASsB,QASlBtB,EAASuB,aACTvB,EAASuB,YAAYC,mBAAmBxB,EAASyB,aAAaf,IAGlE,IAAIgB,EAAa9B,EAAQuB,OAAO,wBAA0BF,cAAeA,EAAeH,UAAWA,IAmBnG,OAjBAJ,EAAMiB,SAASxB,GACfO,EAAMkB,SACNrB,EAAQoB,SAASb,GACjBJ,EAAMiB,SAASb,GACfJ,EACKmB,IAAI,gBAAiB,WAClBnB,EAAMoB,aAAa3B,EAAMW,GAAWiB,KAAK,MAAMJ,SAAS,UACxDpB,EAAQuB,aAAa,SAAUhB,GAAWiB,KAAK,MAC/C/B,EAASgB,QAAS,EAClBgB,WAAW,WACPhC,EAASoB,QAAQM,IAClB,KAENO,uBAELrB,GAAaZ,EAASkC,QAEfjC","file":"../../_carousel/mode-slide.js","sourcesContent":[" define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-langx-events\",\r\n  \"skylark-domx-eventer\"\r\n],function(langx,events,eventer){\r\n  'use strict'\r\n\r\n\r\n  var ModeSlide = events.Emitter.inherit({\r\n\r\n\r\n    _construct : function(carsouel) {\r\n    \tthis.carsouel = carsouel;\r\n    },\r\n\r\n    jump : function(type, next) {\r\n    \tlet carsouel = this.carsouel,\r\n    \t\tvelm = carsouel.elmx(),\r\n    \t\toptions = carsouel.options\r\n\r\n        var $active =  carsouel.$(carsouel.getActiveItem()),\r\n        \t$next = next || carsouel.getItemForDirection(type, $active),\r\n        \tisCycling = carsouel.interval,\r\n        \tdirection = type == 'next' ? 'left' : 'right';\r\n\r\n        if ($next.hasClass('active')) {\r\n        \treturn (carsouel.moving = false)\r\n        }\r\n\r\n        var relatedTarget = $next[0];\r\n\r\n        var movingEvent = eventer.create('jumping.lark.carousel', {\r\n            relatedTarget: relatedTarget,\r\n            direction: direction\r\n        });\r\n\r\n        carsouel.trigger(movingEvent);\r\n        if (movingEvent.isDefaultPrevented()) return\r\n\r\n        carsouel.moving = true;\r\n\r\n        isCycling && carsouel.pause();\r\n\r\n        /*\r\n        if (this._$indicators.length) {\r\n            this._$indicators.find('.active').removeClass('active');\r\n            var $nextIndicator = $(this._$indicators.children()[this.getItemIndex($next)]);\r\n            $nextIndicator && $nextIndicator.addClass('active');\r\n        }\r\n        */\r\n        if (carsouel._indicators) {\r\n            carsouel._indicators.setActiveIndicator(carsouel.getItemIndex($next));\r\n        }\r\n\r\n        var movedEvent = eventer.create('jumped.lark.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\r\n\r\n        $next.addClass(type);\r\n        $next.reflow(); // [0].offsetWidth; // force reflow\r\n        $active.addClass(direction);\r\n        $next.addClass(direction);\r\n        $next\r\n            .one('transitionEnd', function() {\r\n                $next.removeClass([type, direction].join(' ')).addClass('active')\r\n                $active.removeClass(['active', direction].join(' '))\r\n                carsouel.moving = false\r\n                setTimeout(function() {\r\n                    carsouel.trigger(movedEvent)\r\n                }, 0)\r\n            })\r\n            .emulateTransitionEnd();\r\n\r\n        isCycling && carsouel.cycle();\r\n\r\n        return this\r\n    }\r\n\r\n  });\r\n\r\n\r\n  return ModeSlide;\t\r\n});"]}
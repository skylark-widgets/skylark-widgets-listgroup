{"version":3,"sources":["linear.js"],"names":["define","langx","$","elmx","plugins","Collapse","groups","Group","Linear","inherit","klassName","pluginName","options","multitier","mode","levels","selectors","children","hasChildren","toggler","classes","collapsed","expanded","multiExpand","state","selected","Object","_construct","elm","this","overrided","itemSelector","item","childrenSelector","togglerSelector","_$items","has","find","on","e","preventDefault","scall","closest","siblings","removeClass","plugin","toggleClass","toggle","filter","addClass","not"],"mappings":";;;;;;;AAACA,QACC,sBACA,qBACA,oBACA,4BACA,wCACA,WACA,WACA,SAASC,EAAMC,EAAEC,EAAKC,EAAQC,EAASC,EAAOC,GAE5C,IAAIC,EAASD,EAAME,SACfC,UAAY,SAEZC,WAAa,6BAEbC,SACEC,WACEC,KAAS,GACTC,OAAS,EACTC,WACEC,SAAW,KACXC,YAAc,WACdC,QAAU,QAEZC,SACEC,UAAY,GACZC,SAAW,IAGbC,aAAc,IAIlBC,OACEC,SAAWC,QAGbC,WAAa,SAASC,EAAIhB,GACtBiB,KAAKC,UAAUF,EAAIhB,GACnB,IACImB,EAAeF,KAAKjB,QAAQI,UAAUgB,KAItCC,GAFgBJ,KAAKjB,QAAQC,UAAUC,KACjBe,KAAKjB,QAAQC,UAAUG,UAAUE,YACpCW,KAAKjB,QAAQC,UAAUG,UAAUC,UAGlDM,EARKM,KAQcjB,QAAQC,UAAUU,YACrCW,EATKL,KASkBjB,QAAQC,UAAUG,UAAUG,QAEvDU,KAAKM,QAAQC,IAAIH,GAAkBI,KAAKH,GAAiBI,GAAG,SAAgBT,KAAKlB,WAAY,SAAS4B,GAClGA,EAAEC,iBAEEjB,GACAtB,EAAMwC,MAAMvC,EAAE2B,MAAMa,QAAQX,GAAcY,WAAWC,YAAY,UAAU3B,SAASgB,EAAiB,OAAOY,OAAO,yBAAyB,QAEhJ3C,EAAE2B,MAAMa,QAAQX,GAAce,YAAY,UAAU7B,SAASgB,GAAkBY,OAAO,yBAAyBE,WAGpHlB,KAAKM,QAAQa,OAAO,WAAWZ,IAAIH,GAAkBhB,SAASgB,GAAkBgB,SAAS,eACzFpB,KAAKM,QAAQe,IAAI,WAAWd,IAAIH,GAAkBhB,SAASgB,GAAkBgB,SAAS,eAMjG,OAAO3C,EAAOE,OAASA","file":"../linear.js","sourcesContent":[" define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"skylark-domx-plugins-toggles/collapse\",\r\n  \"./groups\",\r\n  \"./group\"\r\n],function(langx,$,elmx,plugins,Collapse,groups,Group){\r\n\r\n    var Linear = Group.inherit({\r\n        klassName : \"Linear\",\r\n\r\n        pluginName : \"domx.plugins.groups.linear\",\r\n\r\n        options : {\r\n          multitier : {\r\n            mode   : \"\",  // \"tree\" or \"accordion\" or \"popover\"\r\n            levels : 2,\r\n            selectors :  {\r\n              children : \"ul\",  // \"> .list-group\"\r\n              hasChildren : \":has(ul)\",\r\n              toggler : \" > a\"\r\n            },\r\n            classes : {\r\n              collapsed : \"\",\r\n              expanded : \"\"\r\n            },\r\n\r\n            multiExpand : true,\r\n          }\r\n        },\r\n\r\n        state : {\r\n          selected : Object\r\n        },\r\n\r\n        _construct : function(elm,options) {\r\n            this.overrided(elm,options);\r\n            var self = this,\r\n                itemSelector = this.options.selectors.item;\r\n\r\n            var multitierMode = this.options.multitier.mode,\r\n                hasChildrenSelector = this.options.multitier.selectors.hasChildren,\r\n                childrenSelector = this.options.multitier.selectors.children;           \r\n\r\n\r\n              var multiExpand = self.options.multitier.multiExpand,\r\n                  togglerSelector = self.options.multitier.selectors.toggler;\r\n\r\n              this._$items.has(childrenSelector).find(togglerSelector).on(\"click\" + \".\" + this.pluginName, function(e) {\r\n                  e.preventDefault();\r\n\r\n                  if (multiExpand) {\r\n                      langx.scall($(this).closest(itemSelector).siblings().removeClass(\"active\").children(childrenSelector+\".in\").plugin(\"domx.toggles.collapse\"),\"hide\");\r\n                  }\r\n                  $(this).closest(itemSelector).toggleClass(\"active\").children(childrenSelector).plugin(\"domx.toggles.collapse\").toggle();\r\n              });\r\n\r\n             this._$items.filter(\".active\").has(childrenSelector).children(childrenSelector).addClass(\"collapse in\");\r\n             this._$items.not(\".active\").has(childrenSelector).children(childrenSelector).addClass(\"collapse\");\r\n        }\r\n\r\n  });\r\n\r\n\r\n  return groups.Linear = Linear;\r\n\r\n});\r\n\r\n\r\n\r\n"]}
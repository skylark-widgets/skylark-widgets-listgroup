{"version":3,"sources":["group.js"],"names":["define","langx","$","elmx","plugins","groups","Group","Plugin","inherit","klassName","pluginName","options","classes","selectors","item","template","selectable","multiSelect","selected","icon","text","_construct","elm","this","overrided","self","velm","_velm","_elm","itemSelector","_$items","on","veItem","hasClass","value","getItemValue","toggleSelectOneItem","clearSelectedItems","selectOneItem","findItem","valueOrIdx","isNumber","eq","filter","$item","data","undefined","index","isSelected","addClass","unselectOneItem","removeClass","selectedClass","getSelectedItems","map","el","register"],"mappings":";;;;;;;AAACA,QACC,sBACA,qBACA,oBACA,4BACA,YACA,SAASC,EAAMC,EAAEC,EAAKC,EAAQC,GAE5B,IAAIC,EAAQF,EAAQG,OAAOC,SACvBC,UAAY,QAEZC,WAAa,oBAEbC,SACCC,WAGAC,WACEC,KAAO,MAGRA,MACEC,SAAW,6EAEXC,YAAY,EACZC,aAAa,EAEbL,SACEM,SAAW,UAGbL,WACEM,KAAO,cACPC,KAAO,gBAIZF,SAAW,GAGZA,SAAW,KAEXG,WAAa,SAASC,EAAIX,GACtBY,KAAKC,UAAUF,EAAIX,GACnB,IAAIc,EAAOF,KACPG,EAAOH,KAAKI,MAAQxB,EAAKoB,KAAKK,MAC9BC,EAAeN,KAAKZ,QAAQE,UAAUC,KAE1CS,KAAKO,QAAUJ,EAAKxB,EAAE2B,GAEtBH,EAAKK,GAAG,QAASF,EAAc,WAC3B,IAAIG,EAAS7B,EAAKoB,MAElB,GAAIE,EAAKd,QAAQG,KAAKE,aAAegB,EAAOC,SAAS,YAAa,CAC9D,IAAIC,EAAQT,EAAKU,aAAaZ,MAC1BE,EAAKd,QAAQG,KAAKG,YACpBQ,EAAKW,oBAAoBF,IAEzBT,EAAKY,qBACLZ,EAAKa,cAAcJ,IAKzB,OAAO,IAGPX,KAAKZ,QAAQG,KAAKG,YACpBM,KAAKL,YAELK,KAAKL,SAAW,MAKtBqB,SAAW,SAAUC,GAOnB,OALIvC,EAAMwC,SAASD,GACTjB,KAAKO,QAAQY,GAAGF,GAEhBjB,KAAKO,QAAQa,OAAO,gBAAkBH,EAAa,OAK/DL,aAAe,SAASb,GACtB,IAAIsB,EAAQ1C,EAAEoB,GACVY,EAAQU,EAAMC,KAAK,SAIvB,YAHcC,IAAVZ,IACFA,EAAQX,KAAKO,QAAQiB,MAAMH,EAAM,KAE5BV,GAGTc,WAAa,SAASR,GACpB,OAAOjB,KAAKgB,SAASC,GAAYP,SAASV,KAAKZ,QAAQG,KAAKF,QAAQM,WAGtEoB,cAAgB,SAAUE,GACxBjB,KAAKgB,SAASC,GAAYS,SAAS1B,KAAKZ,QAAQG,KAAKF,QAAQM,WAG/DgC,gBAAkB,SAAUV,GACxBjB,KAAKgB,SAASC,GAAYW,YAAY5B,KAAKZ,QAAQG,KAAKF,QAAQM,WAGpEmB,mBAAqB,WACnB,IAAIe,EAAgB7B,KAAKZ,QAAQG,KAAKF,QAAQM,SAC9CK,KAAKO,QAAQa,WAAWS,KAAiBD,YAAYC,IAIvDC,iBAAmB,WACjB,OAAQ9B,KAAKO,QAAQa,WAAWS,iBAAiBE,IAAMC,GAC9ChC,KAAKY,aAAaoB,KAI7BnB,oBAAsB,SAASI,GACzBjB,KAAKyB,WAAWR,GAClBjB,KAAK2B,gBAAgBV,GAErBjB,KAAKe,cAAcE,MAS7B,OAFApC,EAAQoD,SAASlD,GAEVD,EAAOC,MAAQA","file":"../group.js","sourcesContent":[" define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./groups\"\r\n],function(langx,$,elmx,plugins,groups){\r\n\r\n    var Group = plugins.Plugin.inherit({\r\n        klassName : \"Group\",\r\n\r\n        pluginName : \"lark.groups.group\",\r\n\r\n        options : {\r\n        \tclasses : {\r\n        \t},\r\n\r\n        \tselectors : {\r\n          \titem : \"li\",                   // \".list-group-item\"\r\n        \t},\r\n\r\n          item : {\r\n            template : \"<span><i class=\\\"glyphicon\\\"></i><a href=\\\"javascript: void(0);\\\"></a> </span>\",\r\n\r\n            selectable: true,\r\n            multiSelect: false,\r\n\r\n            classes : {\r\n              selected : \"active\"\r\n            },\r\n\r\n            selectors : {\r\n              icon : \" > span > i\",\r\n              text : \" > span > a\"\r\n            }\r\n          },\r\n\r\n        \tselected : 0\r\n        },\r\n\r\n        selected : null,\r\n \r\n        _construct : function(elm,options) {\r\n            this.overrided(elm,options);\r\n            var self = this,\r\n                velm = this._velm = elmx(this._elm),\r\n                itemSelector = this.options.selectors.item;\r\n\r\n            this._$items = velm.$(itemSelector);\r\n\r\n            velm.on('click', itemSelector, function () {\r\n                var veItem = elmx(this);\r\n\r\n                if (self.options.item.selectable && !veItem.hasClass('disabled')) {\r\n                    let value = self.getItemValue(this);\r\n                    if (self.options.item.multiSelect) {\r\n                      self.toggleSelectOneItem(value);\r\n                    } else {\r\n                      self.clearSelectedItems();\r\n                      self.selectOneItem(value);\r\n                    }\r\n                }\r\n\r\n                //veItem.blur();\r\n                return false;\r\n            });\r\n\r\n            if (this.options.item.multiSelect) {\r\n              this.selected = [];\r\n            } else {\r\n              this.selected = null;\r\n            }\r\n            ///this.selected = this.options.selected;\r\n        },\r\n        \r\n        findItem : function (valueOrIdx) {\r\n          var $item;\r\n          if (langx.isNumber(valueOrIdx)) {\r\n            $item = this._$items.eq(valueOrIdx);\r\n          } else {\r\n            $item = this._$items.filter('[data-value=\"' + valueOrIdx + '\"]');\r\n          }\r\n          return $item;\r\n        },\r\n\r\n        getItemValue : function(elm) {\r\n          let $item = $(elm),\r\n              value = $item.data(\"value\");\r\n          if (value === undefined) {\r\n            value = this._$items.index($item[0]);\r\n          }\r\n          return value;\r\n        },\r\n\r\n        isSelected : function(valueOrIdx) {\r\n          return this.findItem(valueOrIdx).hasClass(this.options.item.classes.selected);\r\n        },\r\n                 \r\n        selectOneItem : function (valueOrIdx) {\r\n          this.findItem(valueOrIdx).addClass(this.options.item.classes.selected);\r\n        },\r\n\r\n        unselectOneItem : function (valueOrIdx) {\r\n            this.findItem(valueOrIdx).removeClass(this.options.item.classes.selected);\r\n        },\r\n\r\n        clearSelectedItems : function() {\r\n          let selectedClass = this.options.item.classes.selected;\r\n          this._$items.filter(`.${selectedClass}`).removeClass(selectedClass);\r\n        },\r\n\r\n\r\n        getSelectedItems : function() {\r\n          return  this._$items.filter(`.${selectedClass}`).map( (el) => {\r\n            return this.getItemValue(el);\r\n          });\r\n        },\r\n\r\n        toggleSelectOneItem : function(valueOrIdx) {\r\n          if (this.isSelected(valueOrIdx)) {\r\n            this.unselectOneItem(valueOrIdx);\r\n          } else {\r\n            this.selectOneItem(valueOrIdx);\r\n          }\r\n        }\r\n\r\n  });\r\n\r\n\r\n  plugins.register(Group);\r\n\r\n  return groups.Group = Group;\r\n\r\n});\r\n\r\n\r\n\r\n"]}
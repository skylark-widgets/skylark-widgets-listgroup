{"version":3,"sources":["multitier_list.js"],"names":["define","langx","$","elmx","plugins","Collapsable","lists","Group","_MultitierList","inherit","klassName","options","multitier","mode","levels","selectors","children","hasChildren","toggler","classes","collapsed","expanded","multiExpand","state","selected","Object","_construct","elm","this","overrided","itemSelector","item","childrenSelector","togglerSelector","_$items","has","find","on","pluginName","e","preventDefault","scall","closest","siblings","removeClass","plugin","toggleClass","toggle","filter","addClass","not"],"mappings":";;;;;;;AAACA,QACC,sBACA,qBACA,oBACA,uBACA,2CACA,UACA,WACA,SAASC,EAAMC,EAAEC,EAAKC,EAAQC,EAAYC,EAAMC,GAE9C,IAAIC,EAAiBD,EAAME,SACvBC,UAAY,iBAEZC,SACEC,WACEC,KAAS,GACTC,OAAS,EACTC,WACEC,SAAW,KACXC,YAAc,WACdC,QAAU,QAEZC,SACEC,UAAY,GACZC,SAAW,IAGbC,aAAc,IAIlBC,OACEC,SAAWC,QAGbC,WAAa,SAASC,EAAIhB,GACtBiB,KAAKC,UAAUF,EAAIhB,GACnB,IACImB,EAAeF,KAAKjB,QAAQI,UAAUgB,KAItCC,GAFgBJ,KAAKjB,QAAQC,UAAUC,KACjBe,KAAKjB,QAAQC,UAAUG,UAAUE,YACpCW,KAAKjB,QAAQC,UAAUG,UAAUC,UAGlDM,EARKM,KAQcjB,QAAQC,UAAUU,YACrCW,EATKL,KASkBjB,QAAQC,UAAUG,UAAUG,QAEvDU,KAAKM,QAAQC,IAAIH,GAAkBI,KAAKH,GAAiBI,GAAG,SAAgBT,KAAKU,WAAY,SAASC,GAClGA,EAAEC,iBAEElB,GACArB,EAAMwC,MAAMvC,EAAE0B,MAAMc,QAAQZ,GAAca,WAAWC,YAAY,UAAU5B,SAASgB,EAAiB,OAAOa,OAAO,4BAA4B,QAEnJ3C,EAAE0B,MAAMc,QAAQZ,GAAcgB,YAAY,UAAU9B,SAASgB,GAAkBa,OAAO,4BAA4BE,WAGvHnB,KAAKM,QAAQc,OAAO,WAAWb,IAAIH,GAAkBhB,SAASgB,GAAkBiB,SAAS,eACzFrB,KAAKM,QAAQgB,IAAI,WAAWf,IAAIH,GAAkBhB,SAASgB,GAAkBiB,SAAS,eAMjG,OAAO3C,EAAME,eAAiBA","file":"../multitier_list.js","sourcesContent":[" define([\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins\",\r\n  \"skylark-domx-plugins-toggles/Collapsable\",\r\n  \"./lists\",\r\n  \"./Group\"\r\n],function(langx,$,elmx,plugins,Collapsable,lists,Group){\r\n\r\n    var _MultitierList = Group.inherit({\r\n        klassName : \"_MultitierList\",\r\n\r\n        options : {\r\n          multitier : {\r\n            mode   : \"\",  // \"tree\" or \"accordion\" or \"popover\"\r\n            levels : 2,\r\n            selectors :  {\r\n              children : \"ul\",  // \"> .list-group\"\r\n              hasChildren : \":has(ul)\",\r\n              toggler : \" > a\"\r\n            },\r\n            classes : {\r\n              collapsed : \"\",\r\n              expanded : \"\"\r\n            },\r\n\r\n            multiExpand : true,\r\n          }\r\n        },\r\n\r\n        state : {\r\n          selected : Object\r\n        },\r\n\r\n        _construct : function(elm,options) {\r\n            this.overrided(elm,options);\r\n            var self = this,\r\n                itemSelector = this.options.selectors.item;\r\n\r\n            var multitierMode = this.options.multitier.mode,\r\n                hasChildrenSelector = this.options.multitier.selectors.hasChildren,\r\n                childrenSelector = this.options.multitier.selectors.children;           \r\n\r\n\r\n              var multiExpand = self.options.multitier.multiExpand,\r\n                  togglerSelector = self.options.multitier.selectors.toggler;\r\n\r\n              this._$items.has(childrenSelector).find(togglerSelector).on(\"click\" + \".\" + this.pluginName, function(e) {\r\n                  e.preventDefault();\r\n\r\n                  if (multiExpand) {\r\n                      langx.scall($(this).closest(itemSelector).siblings().removeClass(\"active\").children(childrenSelector+\".in\").plugin(\"domx.toggles.collapsable\"),\"hide\");\r\n                  }\r\n                  $(this).closest(itemSelector).toggleClass(\"active\").children(childrenSelector).plugin(\"domx.toggles.collapsable\").toggle();\r\n              });\r\n\r\n             this._$items.filter(\".active\").has(childrenSelector).children(childrenSelector).addClass(\"collapse in\");\r\n             this._$items.not(\".active\").has(childrenSelector).children(childrenSelector).addClass(\"collapse\");\r\n        }\r\n\r\n  });\r\n\r\n\r\n  return lists._MultitierList = _MultitierList;\r\n\r\n});\r\n\r\n\r\n\r\n"]}
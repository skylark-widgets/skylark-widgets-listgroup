{"version":3,"sources":["skylark-domx-plugins-groups.js"],"names":["define","skylark","attach","langx","$","elmx","plugins","groups","Group","Plugin","inherit","klassName","pluginName","options","classes","selectors","item","template","selectable","multiSelect","selected","icon","text","_construct","elm","this","overrided","self","velm","_velm","_elm","itemSelector","_$items","on","veItem","hasClass","value","getItemValue","toggleSelectOneItem","clearSelectedItems","selectOneItem","findItem","valueOrIdx","isNumber","eq","filter","$item","data","undefined","index","isSelected","addClass","unselectOneItem","removeClass","selectedClass","getSelectedItems","map","el","register","Collapse","Linear","alignment","infiniteScroll","itemRendered","noItemsHTML","viewClass","renderItem","_renderItem","i","items","length","itemHtml","append","browser","noder","styler","eventer","touch","Slidable","slidesContainer","titleElement","indicatorContainer","displayClass","singleClass","leftEdgeClass","rightEdgeClass","playingClass","controlsClass","slideClass","slideLoadingClass","slideErrorClass","slideContentClass","toggleClass","prevClass","nextClass","closeClass","playPauseClass","activeIndicatorClass","displayTransition","clearSlides","toggleControlsOnReturn","toggleControlsOnSlideClick","toggleSlideshowOnSpace","enableKeyboardNavigation","closeOnEscape","closeOnSlideClick","closeOnSwipeUpOrDown","emulateTouchEvents","stopTouchEventsPropagation","hidePageScrollbars","disableScroll","carousel","continuous","unloadElements","startSlideshow","slideshowInterval","preloadRange","transitionSpeed","slideshowTransitionSpeed","thumbnailIndicators","onopen","onopened","onslide","onslideend","onslidecomplete","onclose","onclosed","gallery","list","num","initStartIndex","initWidget","initEventListeners","ontransitionend","play","createIndicator","obj","thumbnailUrl","thumbnail","indicator","indicatorPrototype","cloneNode","title","getElementsByTagName","find","src","style","backgroundImage","addIndicator","setAttribute","appendChild","indicators","push","setActiveIndicator","activeIndicator","slide","to","speed","window","clearTimeout","timeout","direction","naturalDirection","diff","circle","Math","abs","positions","slideWidth","move","getIndex","getNumber","prev","next","time","stop","interval","elements","debounce","bind","pause","add","concat","Array","prototype","slice","call","addSlide","positionSlide","initSlides","resetSlides","empty","unloadAllSlides","slides","handleClose","destroyEventListeners","hide","document","body","overflow","bodyOverflowStyle","close","that","support","transition","end","closeHandler","event","target","off","dist","translateX","translate","x","y","css","translateY","onresize","onmousedown","which","nodeName","preventDefault","originalEvent","touches","pageX","pageY","ontouchstart","onmousemove","touchStart","ontouchmove","onmouseup","ontouchend","onmouseout","related","relatedTarget","contains","Date","now","isScrolling","touchDelta","touchDeltaX","indices","scale","unshift","pop","indexForward","indexBackward","distanceForward","distanceBackward","isShortDuration","Number","isValidSlide","isPastBounds","isValidClose","slideHeight","ontouchcancel","defer","oncomplete","srcElement","parent","parentNode","getNodeIndex","type","clientHeight","maxHeight","onload","onerror","onkeydown","keyCode","toggleControls","stopImmediatePropagation","toggleSlideshow","handleClick","isTarget","className","onclick","updateEdgeClasses","handleSlide","loadElements","setTitle","firstChild","alt","createTextNode","createElement","callback","element","loadElement","proxyListener","limit","min","j","hasOwnProperty","unloadSlide","slidePrototype","width","left","reload","query","children","imagePrototype","elementPrototype","clientWidth","removeChild","len","parseInt","getAttribute","isTouchEnabled","handleOpen","first","openHandler","show","datax","finder","geom","dnd","manager","attr","removeAttr","pagePosition","height","Draggable","draggingClass","forEach","eventName","isFunction","mousedown","e","handle","dragHandle","closest","source","dragSource","prepare","mouseup","dragstart","start","dragend","dragging","Droppable","hoverClass","activeClass","acceptable","dragover","stopPropagation","e2","create","overElm","transfer","draggingTransfer","trigger","dataTransfer","dropEffect","dragenter","dragleave","drop","some","enable","disable","destory","placeholders","Sortable","connectWith","placeholder","placeholderClass","container","$container","$items","test","tagName","class","preparing","started","ghost","ended","detach","overing","is","forcePlaceholderSize","outerHeight","not","dropped","after","Tiler","lists","Tree","multitier","mixin","$el","toggle","main"],"mappings":"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","file":"../skylark-domx-plugins-groups.js","sourcesContent":["define('skylark-domx-plugins-groups/groups',[\r\n\t\"skylark-langx/skylark\"\r\n],function(skylark){\r\n\treturn skylark.attach(\"domx.plugins.groups\",{});\r\n});\n define('skylark-domx-plugins-groups/group',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./groups\"\r\n],function(langx,$,elmx,plugins,groups){\r\n\r\n    var Group = plugins.Plugin.inherit({\r\n        klassName : \"Group\",\r\n\r\n        pluginName : \"lark.groups.group\",\r\n\r\n        options : {\r\n        \tclasses : {\r\n        \t},\r\n\r\n        \tselectors : {\r\n          \titem : \"li\",                   // \".list-group-item\"\r\n        \t},\r\n\r\n          item : {\r\n            template : \"<span><i class=\\\"glyphicon\\\"></i><a href=\\\"javascript: void(0);\\\"></a> </span>\",\r\n\r\n            selectable: true,\r\n            multiSelect: false,\r\n\r\n            classes : {\r\n              selected : \"active\"\r\n            },\r\n\r\n            selectors : {\r\n              icon : \" > span > i\",\r\n              text : \" > span > a\"\r\n            }\r\n          },\r\n\r\n        \tselected : 0\r\n        },\r\n\r\n        selected : null,\r\n \r\n        _construct : function(elm,options) {\r\n            this.overrided(elm,options);\r\n            var self = this,\r\n                velm = this._velm = elmx(this._elm),\r\n                itemSelector = this.options.selectors.item;\r\n\r\n            this._$items = velm.$(itemSelector);\r\n\r\n            velm.on('click', itemSelector, function () {\r\n                var veItem = elmx(this);\r\n\r\n                if (self.options.item.selectable && !veItem.hasClass('disabled')) {\r\n                    let value = self.getItemValue(this);\r\n                    if (self.options.item.multiSelect) {\r\n                      self.toggleSelectOneItem(value);\r\n                    } else {\r\n                      self.clearSelectedItems();\r\n                      self.selectOneItem(value);\r\n                    }\r\n                }\r\n\r\n                //veItem.blur();\r\n                return false;\r\n            });\r\n\r\n            if (this.options.item.multiSelect) {\r\n              this.selected = [];\r\n            } else {\r\n              this.selected = null;\r\n            }\r\n            ///this.selected = this.options.selected;\r\n        },\r\n        \r\n        findItem : function (valueOrIdx) {\r\n          var $item;\r\n          if (langx.isNumber(valueOrIdx)) {\r\n            $item = this._$items.eq(valueOrIdx);\r\n          } else {\r\n            $item = this._$items.filter('[data-value=\"' + valueOrIdx + '\"]');\r\n          }\r\n          return $item;\r\n        },\r\n\r\n        getItemValue : function(elm) {\r\n          let $item = $(elm),\r\n              value = $item.data(\"value\");\r\n          if (value === undefined) {\r\n            value = this._$items.index($item[0]);\r\n          }\r\n          return value;\r\n        },\r\n\r\n        isSelected : function(valueOrIdx) {\r\n          return this.findItem(valueOrIdx).hasClass(this.options.item.classes.selected);\r\n        },\r\n                 \r\n        selectOneItem : function (valueOrIdx) {\r\n          this.findItem(valueOrIdx).addClass(this.options.item.classes.selected);\r\n        },\r\n\r\n        unselectOneItem : function (valueOrIdx) {\r\n            this.findItem(valueOrIdx).removeClass(this.options.item.classes.selected);\r\n        },\r\n\r\n        clearSelectedItems : function() {\r\n          let selectedClass = this.options.item.classes.selected;\r\n          this._$items.filter(`.${selectedClass}`).removeClass(selectedClass);\r\n        },\r\n\r\n\r\n        getSelectedItems : function() {\r\n          return  this._$items.filter(`.${selectedClass}`).map( (el) => {\r\n            return this.getItemValue(el);\r\n          });\r\n        },\r\n\r\n        toggleSelectOneItem : function(valueOrIdx) {\r\n          if (this.isSelected(valueOrIdx)) {\r\n            this.unselectOneItem(valueOrIdx);\r\n          } else {\r\n            this.selectOneItem(valueOrIdx);\r\n          }\r\n        }\r\n\r\n  });\r\n\r\n\r\n  plugins.register(Group);\r\n\r\n  return groups.Group = Group;\r\n\r\n});\r\n\r\n\r\n\r\n\n define('skylark-domx-plugins-groups/linear',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"skylark-domx-plugins-toggles/collapse\",\r\n  \"./groups\",\r\n  \"./group\"\r\n],function(langx,$,elmx,plugins,Collapse,groups,Group){\r\n\r\n  var Linear = Group.inherit({\r\n    klassName : \"Tiler\",\r\n\r\n    pluginName : \"lark.groups.tiler\",\r\n\r\n    options: {\r\n       alignment: 'left',\r\n        infiniteScroll: false,\r\n        itemRendered: null,\r\n        noItemsHTML: 'no items found',\r\n        selectable: false,\r\n\r\n        template : '<ul class=\"clearfix repeater-linear\" data-container=\"true\" data-infinite=\"true\" data-preserve=\"shallow\"></ul>',\r\n        item : {\r\n            template: '<li class=\"repeater-item\"><img  src=\"{{ThumbnailImage}}\" class=\"thumb\"/><h4 class=\"title\">{{name}}</h4></div>'\r\n        },\r\n\r\n        viewClass: \"repeater-linear\",\r\n        renderItem : null\r\n    },\r\n\r\n    _construct: function (elm, options) {\r\n      this.overrided(elm, options);\r\n\r\n      this._renderItem = langx.template(this.options.item.template);\r\n\r\n      for (var i=0;i<options.items.length;i++) {\r\n        var itemHtml = this._renderItem(options.items[i]);\r\n        this._velm.append($(itemHtml));\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  plugins.register(Linear);\r\n\r\n  return groups.Linear = Linear;\r\n\r\n});\r\n\r\n\r\n\r\n\ndefine('skylark-domx-plugins-groups/slidable',[\r\n  'skylark-langx/langx',\r\n  'skylark-domx-browser',\r\n  'skylark-domx-noder',\r\n  'skylark-domx-styler',\r\n  'skylark-domx-eventer',\r\n  'skylark-domx-query',\r\n  \"skylark-domx-plugins-base\",\r\n  \"skylark-devices-points/touch\",\r\n  \"./groups\"\r\n], function (langx,browser, noder, styler, eventer, $,plugins,touch,groups) {\r\n  'use strict'\r\n  var Slidable = plugins.Plugin.inherit({\r\n    klassName: \"Slidable\",\r\n\r\n    pluginName : \"lark.groups.slidable\",\r\n\r\n    options: {\r\n      selectors : {\r\n        // The tag name, Id, element or querySelector of the slides container:\r\n        slidesContainer: 'div',\r\n        // The tag name, Id, element or querySelector of the title element:\r\n        titleElement: 'h3',\r\n\r\n        // The tag name, Id, element or querySelector of the indicator container:\r\n        indicatorContainer: 'ol'\r\n      },\r\n\r\n      classes : {\r\n        // The class to add when the gallery is visible:\r\n        displayClass: 'lark-domx-slidable-display',\r\n        // The class to add when the gallery only displays one element:\r\n        singleClass: 'lark-domx-slidable-single',\r\n        // The class to add when the left edge has been reached:\r\n        leftEdgeClass: 'lark-domx-slidable-left',\r\n        // The class to add when the right edge has been reached:\r\n        rightEdgeClass: 'lark-domx-slidable-right',\r\n        // The class to add when the automatic slideshow is active:\r\n        playingClass: 'lark-domx-slidable-playing',\r\n\r\n        // The class to add when the gallery controls are visible:\r\n        controlsClass: 'lark-domx-slidable-controls',\r\n\r\n        // The class for all slides:\r\n        slideClass: 'slide',\r\n        // The slide class for loading elements:\r\n        slideLoadingClass: 'slide-loading',\r\n        // The slide class for elements that failed to load:\r\n        slideErrorClass: 'slide-error',\r\n        // The class for the content element loaded into each slide:\r\n        slideContentClass: 'slide-content',\r\n        // The class for the \"toggle\" control:\r\n        toggleClass: 'toggle',\r\n        // The class for the \"prev\" control:\r\n        prevClass: 'prev',\r\n        // The class for the \"next\" control:\r\n        nextClass: 'next',\r\n        // The class for the \"close\" control:\r\n        closeClass: 'close',\r\n        // The class for the \"play-pause\" toggle control:\r\n        playPauseClass: 'play-pause',\r\n\r\n        // The class for the active indicator:\r\n        activeIndicatorClass: 'active'\r\n      },\r\n      // The list object property (or data attribute) with the object type:\r\n      //--- typeProperty: 'type',\r\n      // The list object property (or data attribute) with the object title:\r\n      //--- titleProperty: 'title',\r\n      // The list object property (or data attribute) with the object alt text:\r\n      //--- altTextProperty: 'alt',\r\n      // The list object property (or data attribute) with the object URL:\r\n      //--- urlProperty: 'href',\r\n      // The list object property (or data attribute) with the object srcset URL(s):\r\n      //--- srcsetProperty: 'urlset',\r\n      // The gallery listens for transitionend events before triggering the\r\n      // opened and closed events, unless the following option is set to false:\r\n      displayTransition: true,\r\n      // Defines if the gallery slides are cleared from the gallery modal,\r\n      // or reused for the next gallery initialization:\r\n      clearSlides: true,\r\n      // Defines if images should be stretched to fill the available space,\r\n      // while maintaining their aspect ratio (will only be enabled for browsers\r\n      // supporting background-size=\"contain\", which excludes IE < 9).\r\n      // Set to \"cover\", to make images cover all available space (requires\r\n      // support for background-size=\"cover\", which excludes IE < 9):\r\n      //--- stretchImages: false,\r\n      // Toggle the controls on pressing the Return key:\r\n      toggleControlsOnReturn: true,\r\n\r\n      // Toggle the controls on slide click:\r\n      toggleControlsOnSlideClick: true,\r\n\r\n      // Toggle the automatic slideshow interval on pressing the Space key:\r\n      toggleSlideshowOnSpace: true,\r\n\r\n      // Navigate the gallery by pressing left and right on the keyboard:\r\n      enableKeyboardNavigation: true,\r\n\r\n      // Close the gallery on pressing the Esc key:\r\n      closeOnEscape: false,\r\n\r\n      // Close the gallery when clicking on an empty slide area:\r\n      closeOnSlideClick: false,\r\n\r\n      // Close the gallery by swiping up or down:\r\n      closeOnSwipeUpOrDown: false,\r\n\r\n      // Emulate touch events on mouse-pointer devices such as desktop browsers:\r\n      emulateTouchEvents: true,\r\n\r\n      // Stop touch events from bubbling up to ancestor elements of the Gallery:\r\n      stopTouchEventsPropagation: false,\r\n\r\n      // Hide the page scrollbars:\r\n      hidePageScrollbars: false,\r\n\r\n      // Stops any touches on the container from scrolling the page:\r\n      disableScroll: true,\r\n\r\n      // Carousel mode (shortcut for carousel specific options):\r\n      carousel: false,\r\n\r\n      // Allow continuous navigation, moving from last to first\r\n      // and from first to last slide:\r\n      continuous: true,\r\n\r\n      // Remove elements outside of the preload range from the DOM:\r\n      unloadElements: true,\r\n\r\n      // Start with the automatic slideshow:\r\n      startSlideshow: false,\r\n\r\n      // Delay in milliseconds between slides for the automatic slideshow:\r\n      slideshowInterval: 5000,\r\n\r\n      // The starting index as integer.\r\n      // Can also be an object of the given list,\r\n      // or an equal object with the same url property:\r\n      index: 0,\r\n      // The number of elements to load around the current index:\r\n      preloadRange: 2,\r\n      // The transition speed between slide changes in milliseconds:\r\n      transitionSpeed: 400,\r\n      // The transition speed for automatic slide changes, set to an integer\r\n      // greater 0 to override the default transition speed:\r\n      slideshowTransitionSpeed: undefined,\r\n\r\n\r\n        // Hide the page scrollbars:\r\n      hidePageScrollbars: false,\r\n\r\n\r\n\r\n      // Defines if the gallery indicators should display a thumbnail:\r\n      thumbnailIndicators: true,\r\n\r\n\r\n      // Callback function executed when the Gallery is initialized.\r\n      // Is called with the gallery instance as \"this\" object:\r\n      onopen: undefined,\r\n      // Callback function executed when the Gallery has been initialized\r\n      // and the initialization transition has been completed.\r\n      // Is called with the gallery instance as \"this\" object:\r\n      onopened: undefined,\r\n      // Callback function executed on slide change.\r\n      // Is called with the gallery instance as \"this\" object and the\r\n      // current index and slide as arguments:\r\n      onslide: undefined,\r\n      // Callback function executed after the slide change transition.\r\n      // Is called with the gallery instance as \"this\" object and the\r\n      // current index and slide as arguments:\r\n      onslideend: undefined,\r\n      // Callback function executed on slide content load.\r\n      // Is called with the gallery instance as \"this\" object and the\r\n      // slide index and slide element as arguments:\r\n      onslidecomplete: undefined,\r\n      // Callback function executed when the Gallery is about to be closed.\r\n      // Is called with the gallery instance as \"this\" object:\r\n      onclose: undefined,\r\n      // Callback function executed when the Gallery has been closed\r\n      // and the closing transition has been completed.\r\n      // Is called with the gallery instance as \"this\" object:\r\n      onclosed: undefined\r\n    },\r\n\r\n    _construct: function (gallery, options) {\r\n      this.overrided(gallery, options);\r\n      this._velm = this.elmx();\r\n\r\n      this.list = this.options.items;\r\n      //this.options.container = this.elm();\r\n      this.num = this.list.length;\r\n\r\n      this.initStartIndex()\r\n      if (this.initWidget() === false) {\r\n        return false\r\n      }\r\n      this.initEventListeners()\r\n      // Load the slide at the given index:\r\n      this.onslide(this.index)\r\n      // Manually trigger the slideend event for the initial slide:\r\n      this.ontransitionend()\r\n      // Start the automatic slideshow if applicable:\r\n      if (this.options.startSlideshow) {\r\n        this.play()\r\n      }\r\n    },\r\n\r\n    createIndicator: function (obj) {\r\n      var gallery = this.gallery,\r\n        indicator = this.indicatorPrototype.cloneNode(false)\r\n      var title = obj.title;\r\n      var thumbnailUrl\r\n      var thumbnail\r\n      if (this.options.thumbnailIndicators) {\r\n        thumbnailUrl = obj[\"thumbnail\"]\r\n\r\n        if (thumbnailUrl === undefined) {\r\n          thumbnail = obj.getElementsByTagName && $(obj).find('img')[0]\r\n          if (thumbnail) {\r\n            thumbnailUrl = thumbnail.src\r\n          }\r\n        }\r\n        if (thumbnailUrl) {\r\n          indicator.style.backgroundImage = 'url(\"' + thumbnailUrl + '\")'\r\n        }\r\n      }\r\n      if (title) {\r\n        indicator.title = title;\r\n      }\r\n      return indicator;\r\n    },\r\n\r\n    addIndicator: function (index) {\r\n      if (this.indicatorContainer.length) {\r\n        var indicator = this.createIndicator(this.list[index])\r\n        indicator.setAttribute('data-index', index)\r\n        this.indicatorContainer[0].appendChild(indicator)\r\n        this.indicators.push(indicator)\r\n      }\r\n    },\r\n\r\n    setActiveIndicator: function (index) {\r\n      if (this.indicators) {\r\n        if (this.activeIndicator) {\r\n          this.activeIndicator.removeClass(this.options.classes.activeIndicatorClass)\r\n        }\r\n        this.activeIndicator = $(this.indicators[index])\r\n        this.activeIndicator.addClass(this.options.classes.activeIndicatorClass)\r\n      }\r\n    },\r\n\r\n    slide: function (to, speed) {\r\n      window.clearTimeout(this.timeout)\r\n      var index = this.index\r\n      var direction\r\n      var naturalDirection\r\n      var diff\r\n      if (index === to || this.num === 1) {\r\n        return\r\n      }\r\n      if (!speed) {\r\n        speed = this.options.transitionSpeed\r\n      }\r\n      if (!this.options.continuous) {\r\n        to = this.circle(to)\r\n      }\r\n      // 1: backward, -1: forward:\r\n      direction = Math.abs(index - to) / (index - to)\r\n      // Get the actual position of the slide:\r\n      if (this.options.continuous) {\r\n        naturalDirection = direction\r\n        direction = -this.positions[this.circle(to)] / this.slideWidth\r\n        // If going forward but to < index, use to = slides.length + to\r\n        // If going backward but to > index, use to = -slides.length + to\r\n        if (direction !== naturalDirection) {\r\n          to = -direction * this.num + to\r\n        }\r\n      }\r\n      diff = Math.abs(index - to) - 1\r\n      // Move all the slides between index and to in the right direction:\r\n      while (diff) {\r\n        diff -= 1\r\n        this.move(\r\n          this.circle((to > index ? to : index) - diff - 1),\r\n          this.slideWidth * direction,\r\n          0\r\n        )\r\n      }\r\n      to = this.circle(to)\r\n      this.move(index, this.slideWidth * direction, speed)\r\n      this.move(to, 0, speed)\r\n      if (this.options.continuous) {\r\n        this.move(\r\n          this.circle(to - direction),\r\n          -(this.slideWidth * direction),\r\n          0\r\n        )\r\n      }\r\n\r\n      this.onslide(to)\r\n    },\r\n\r\n    getIndex: function () {\r\n      return this.index\r\n    },\r\n\r\n    getNumber: function () {\r\n      return this.num\r\n    },\r\n\r\n    prev: function () {\r\n      if (this.options.continuous || this.index) {\r\n        this.slide(this.index - 1)\r\n      }\r\n    },\r\n\r\n    next: function () {\r\n      if (this.options.continuous || this.index < this.num - 1) {\r\n        this.slide(this.index + 1)\r\n      }\r\n    },\r\n\r\n    play: function (time) {\r\n      var that = this\r\n      ///window.clearTimeout(this.timeout);\r\n      if (this.timeout) {\r\n        this.timeout.stop();\r\n        this.timeout = null;\r\n      }\r\n      this.interval = time || this.options.slideshowInterval\r\n      if (this.elements[this.index] > 1) {\r\n        this.timeout = langx.debounce(this.slide.bind(this),this.interval,true)(this.index + 1, this.options.slideshowTransitionSpeed);\r\n      }\r\n      this._velm.addClass(this.options.classes.playingClass)\r\n    },\r\n\r\n    pause: function () {\r\n      //window.clearTimeout(this.timeout)\r\n      if (this.timeout) {\r\n        this.timeout.stop();\r\n        this.timeout = null;\r\n      }\r\n      this.interval = null\r\n      //if (this.cancelAnimationFrame) {\r\n      //  this.cancelAnimationFrame.call(window, this.animationFrameId)\r\n      //  this.animationFrameId = null\r\n      //}\r\n      this._velm.removeClass(this.options.classes.playingClass)\r\n    },\r\n\r\n    add: function (list) {\r\n      var i\r\n      if (!list.concat) {\r\n        // Make a real array out of the list to add:\r\n        list = Array.prototype.slice.call(list)\r\n      }\r\n      if (!this.list.concat) {\r\n        // Make a real array out of the Gallery list:\r\n        this.list = Array.prototype.slice.call(this.list)\r\n      }\r\n      this.list = this.list.concat(list)\r\n      this.num = this.list.length\r\n      if (this.num > 2 && this.options.continuous === null) {\r\n        this.options.continuous = true\r\n        this._velm.removeClass(this.options.classes.leftEdgeClass)\r\n      }\r\n      this._velm\r\n        .removeClass(this.options.classes.rightEdgeClass)\r\n        .removeClass(this.options.classes.singleClass)\r\n      for (i = this.num - list.length; i < this.num; i += 1) {\r\n        this.addSlide(i)\r\n        this.positionSlide(i)\r\n      }\r\n      this.positions.length = this.num\r\n      this.initSlides(true)\r\n    },\r\n\r\n    resetSlides: function () {\r\n      this.slidesContainer.empty();\r\n      this.unloadAllSlides();\r\n      this.slides = [];\r\n      this.indicatorContainer.empty();\r\n      this.indicators = [];\r\n\r\n    },\r\n\r\n    handleClose: function () {\r\n      if (this.activeIndicator) {\r\n        this.activeIndicator.removeClass(this.options.classes.activeIndicatorClass)\r\n      }\r\n\r\n      var options = this.options\r\n      this.destroyEventListeners()\r\n      // Cancel the slideshow:\r\n      this.pause();\r\n      this._velm.hide();\r\n      this._velm.removeClass([options.displayClass,options.singleClass,options.leftEdgeClass,options.rightEdgeClass]);\r\n      if (options.hidePageScrollbars) {\r\n        document.body.style.overflow = this.bodyOverflowStyle\r\n      }\r\n      if (this.options.clearSlides) {\r\n        this.resetSlides()\r\n      }\r\n      if (this.options.onclosed) {\r\n        this.options.onclosed.call(this)\r\n      }\r\n    },\r\n\r\n    close: function () {\r\n      var that = this\r\n\r\n      function closeHandler(event) {\r\n        if (event.target === that._elm) {\r\n          that._velm.off(browser.support.transition.end, closeHandler)\r\n          that.handleClose()\r\n        }\r\n      }\r\n      if (this.options.onclose) {\r\n        this.options.onclose.call(this)\r\n      }\r\n      if (this.options.displayTransition) {\r\n        this._velm.on(browser.support.transition.end, closeHandler)\r\n        this._velm.removeClass(this.options.classes.displayClass)\r\n      } else {\r\n        this.handleClose()\r\n      }\r\n    },\r\n\r\n    circle: function (index) {\r\n      // Always return a number inside of the slides index range:\r\n      return (this.num + index % this.num) % this.num\r\n    },\r\n\r\n    move: function (index, dist, speed) {\r\n      this.translateX(index, dist, speed)\r\n      this.positions[index] = dist\r\n    },\r\n\r\n    translate: function (index, x, y, speed) {\r\n      var slide = this.slides[index];\r\n      styler.css(slide,\"transitionDuration\",speed + \"ms\");\r\n      styler.css(slide,\"transform\", 'translate(' + x + 'px, ' +  y +  'px)' +  ' translateZ(0)');\r\n\r\n    },\r\n\r\n    translateX: function (index, x, speed) {\r\n      this.translate(index, x, 0, speed)\r\n    },\r\n\r\n    translateY: function (index, y, speed) {\r\n      this.translate(index, 0, y, speed)\r\n    },\r\n\r\n    onresize: function () {\r\n      this.initSlides(true)\r\n    },\r\n\r\n    onmousedown: function (event) {\r\n      // Trigger on clicks of the left mouse button only\r\n      // and exclude video & audio elements:\r\n      if (\r\n        event.which &&\r\n        event.which === 1 &&\r\n        event.target.nodeName !== 'VIDEO' &&\r\n        event.target.nodeName !== 'AUDIO'\r\n      ) {\r\n        // Preventing the default mousedown action is required\r\n        // to make touch emulation work with Firefox:\r\n        event.preventDefault();\r\n        (event.originalEvent || event).touches = [{\r\n          pageX: event.pageX,\r\n          pageY: event.pageY\r\n        }]\r\n        this.ontouchstart(event)\r\n      }\r\n    },\r\n\r\n    onmousemove: function (event) {\r\n      if (this.touchStart) {;\r\n        (event.originalEvent || event).touches = [{\r\n          pageX: event.pageX,\r\n          pageY: event.pageY\r\n        }]\r\n        this.ontouchmove(event)\r\n      }\r\n    },\r\n\r\n    onmouseup: function (event) {\r\n      if (this.touchStart) {\r\n        this.ontouchend(event)\r\n        delete this.touchStart\r\n      }\r\n    },\r\n\r\n    onmouseout: function (event) {\r\n      if (this.touchStart) {\r\n        var target = event.target\r\n        var related = event.relatedTarget\r\n        if (!related || (related !== target && !noder.contains(target, related))) {\r\n          this.onmouseup(event)\r\n        }\r\n      }\r\n    },\r\n\r\n    ontouchstart: function (event) {\r\n      if (this.options.stopTouchEventsPropagation) {\r\n        eventer.stop(event)\r\n      }\r\n      // jQuery doesn't copy touch event properties by default,\r\n      // so we have to access the originalEvent object:\r\n      var touches = (event.originalEvent || event).touches[0]\r\n      this.touchStart = {\r\n        // Remember the initial touch coordinates:\r\n        x: touches.pageX,\r\n        y: touches.pageY,\r\n        // Store the time to determine touch duration:\r\n        time: Date.now()\r\n      }\r\n      // Helper variable to detect scroll movement:\r\n      this.isScrolling = undefined\r\n      // Reset delta values:\r\n      this.touchDelta = {}\r\n    },\r\n\r\n    ontouchmove: function (event) {\r\n      if (this.options.stopTouchEventsPropagation) {\r\n        eventer.stop(event)\r\n      }\r\n      // jQuery doesn't copy touch event properties by default,\r\n      // so we have to access the originalEvent object:\r\n      var touches = (event.originalEvent || event).touches[0]\r\n      var scale = (event.originalEvent || event).scale\r\n      var index = this.index\r\n      var touchDeltaX\r\n      var indices\r\n      // Ensure this is a one touch swipe and not, e.g. a pinch:\r\n      if (touches.length > 1 || (scale && scale !== 1)) {\r\n        return\r\n      }\r\n      if (this.options.disableScroll) {\r\n        event.preventDefault()\r\n      }\r\n      // Measure change in x and y coordinates:\r\n      this.touchDelta = {\r\n        x: touches.pageX - this.touchStart.x,\r\n        y: touches.pageY - this.touchStart.y\r\n      }\r\n      touchDeltaX = this.touchDelta.x\r\n      // Detect if this is a vertical scroll movement (run only once per touch):\r\n      if (this.isScrolling === undefined) {\r\n        this.isScrolling =\r\n          this.isScrolling ||\r\n          Math.abs(touchDeltaX) < Math.abs(this.touchDelta.y)\r\n      }\r\n      if (!this.isScrolling) {\r\n        // Always prevent horizontal scroll:\r\n        event.preventDefault()\r\n        // Stop the slideshow:\r\n        window.clearTimeout(this.timeout)\r\n        if (this.options.continuous) {\r\n          indices = [this.circle(index + 1), index, this.circle(index - 1)]\r\n        } else {\r\n          // Increase resistance if first slide and sliding left\r\n          // or last slide and sliding right:\r\n          this.touchDelta.x = touchDeltaX =\r\n            touchDeltaX /\r\n            ((!index && touchDeltaX > 0) ||\r\n              (index === this.num - 1 && touchDeltaX < 0) ?\r\n              Math.abs(touchDeltaX) / this.slideWidth + 1 :\r\n              1)\r\n          indices = [index]\r\n          if (index) {\r\n            indices.push(index - 1)\r\n          }\r\n          if (index < this.num - 1) {\r\n            indices.unshift(index + 1)\r\n          }\r\n        }\r\n        while (indices.length) {\r\n          index = indices.pop()\r\n          this.translateX(index, touchDeltaX + this.positions[index], 0)\r\n        }\r\n      } else {\r\n        this.translateY(index, this.touchDelta.y + this.positions[index], 0)\r\n      }\r\n    },\r\n\r\n    ontouchend: function (event) {\r\n      if (this.options.stopTouchEventsPropagation) {\r\n        eventer.stop(event)\r\n      }\r\n      var index = this.index\r\n      var speed = this.options.transitionSpeed\r\n      var slideWidth = this.slideWidth\r\n      var isShortDuration = Number(Date.now() - this.touchStart.time) < 250\r\n      // Determine if slide attempt triggers next/prev slide:\r\n      var isValidSlide =\r\n        (isShortDuration && Math.abs(this.touchDelta.x) > 20) ||\r\n        Math.abs(this.touchDelta.x) > slideWidth / 2\r\n      // Determine if slide attempt is past start or end:\r\n      var isPastBounds =\r\n        (!index && this.touchDelta.x > 0) ||\r\n        (index === this.num - 1 && this.touchDelta.x < 0)\r\n      var isValidClose = !isValidSlide &&\r\n        this.options.closeOnSwipeUpOrDown &&\r\n        ((isShortDuration && Math.abs(this.touchDelta.y) > 20) ||\r\n          Math.abs(this.touchDelta.y) > this.slideHeight / 2)\r\n      var direction\r\n      var indexForward\r\n      var indexBackward\r\n      var distanceForward\r\n      var distanceBackward\r\n      if (this.options.continuous) {\r\n        isPastBounds = false\r\n      }\r\n      // Determine direction of swipe (true: right, false: left):\r\n      direction = this.touchDelta.x < 0 ? -1 : 1\r\n      if (!this.isScrolling) {\r\n        if (isValidSlide && !isPastBounds) {\r\n          indexForward = index + direction\r\n          indexBackward = index - direction\r\n          distanceForward = slideWidth * direction\r\n          distanceBackward = -slideWidth * direction\r\n          if (this.options.continuous) {\r\n            this.move(this.circle(indexForward), distanceForward, 0)\r\n            this.move(this.circle(index - 2 * direction), distanceBackward, 0)\r\n          } else if (indexForward >= 0 && indexForward < this.num) {\r\n            this.move(indexForward, distanceForward, 0)\r\n          }\r\n          this.move(index, this.positions[index] + distanceForward, speed)\r\n          this.move(\r\n            this.circle(indexBackward),\r\n            this.positions[this.circle(indexBackward)] + distanceForward,\r\n            speed\r\n          )\r\n          index = this.circle(indexBackward)\r\n          this.onslide(index)\r\n        } else {\r\n          // Move back into position\r\n          if (this.options.continuous) {\r\n            this.move(this.circle(index - 1), -slideWidth, speed)\r\n            this.move(index, 0, speed)\r\n            this.move(this.circle(index + 1), slideWidth, speed)\r\n          } else {\r\n            if (index) {\r\n              this.move(index - 1, -slideWidth, speed)\r\n            }\r\n            this.move(index, 0, speed)\r\n            if (index < this.num - 1) {\r\n              this.move(index + 1, slideWidth, speed)\r\n            }\r\n          }\r\n        }\r\n      } else {\r\n        if (isValidClose) {\r\n          this.close()\r\n        } else {\r\n          // Move back into position\r\n          this.translateY(index, 0, speed)\r\n        }\r\n      }\r\n    },\r\n\r\n    ontouchcancel: function (event) {\r\n      if (this.touchStart) {\r\n        this.ontouchend(event)\r\n        delete this.touchStart\r\n      }\r\n    },\r\n\r\n    ontransitionend: function (event) {\r\n      var slide = this.slides[this.index]\r\n      if (!event || slide === event.target) {\r\n        if (this.interval) {\r\n          this.play()\r\n        }\r\n        ///this.setTimeout(this.options.onslideend, [this.index, slide])\r\n        langx.defer(this.options.onslideend, [this.index, slide]);\r\n      }\r\n    },\r\n\r\n    oncomplete: function (event) {\r\n      var target = event.target || event.srcElement\r\n      var parent = target && target.parentNode\r\n      var index\r\n      if (!target || !parent) {\r\n        return\r\n      }\r\n      index = this.getNodeIndex(parent)\r\n      $(parent).removeClass(this.options.classes.slideLoadingClass)\r\n      if (event.type === 'error') {\r\n        $(parent).addClass(this.options.classes.slideErrorClass)\r\n        this.elements[index] = 3 // Fail\r\n      } else {\r\n        this.elements[index] = 2 // Done\r\n      }\r\n      // Fix for IE7's lack of support for percentage max-height:\r\n      if (target.clientHeight > this._velm.clientHeight()) {\r\n        target.style.maxHeight = this._velm.clientHeight()\r\n      }\r\n      if (this.interval && this.slides[this.index] === parent) {\r\n        this.play()\r\n      }\r\n      ///this.setTimeout(this.options.onslidecomplete, [index, parent])\r\n      langx.defer(this.options.onslidecomplete, [index, parent]);\r\n    },\r\n\r\n    onload: function (event) {\r\n      this.oncomplete(event)\r\n    },\r\n\r\n    onerror: function (event) {\r\n      this.oncomplete(event)\r\n    },\r\n\r\n    onkeydown: function (event) {\r\n      switch (event.which || event.keyCode) {\r\n        case 13: // Return\r\n          if (this.options.toggleControlsOnReturn) {\r\n            eventer.stop(event)\r\n            this.toggleControls()\r\n          }\r\n          break\r\n        case 27: // Esc\r\n          if (this.options.closeOnEscape) {\r\n            this.close()\r\n            // prevent Esc from closing other things\r\n            event.stopImmediatePropagation()\r\n          }\r\n          break\r\n        case 32: // Space\r\n          if (this.options.toggleSlideshowOnSpace) {\r\n            eventer.stop(event)\r\n            this.toggleSlideshow()\r\n          }\r\n          break\r\n        case 37: // Left\r\n          if (this.options.enableKeyboardNavigation) {\r\n            eventer.stop(event)\r\n            this.prev()\r\n          }\r\n          break\r\n        case 39: // Right\r\n          if (this.options.enableKeyboardNavigation) {\r\n            eventer.stop(event)\r\n            this.next()\r\n          }\r\n          break\r\n      }\r\n    },\r\n\r\n    handleClick: function (event) {\r\n      var options = this.options\r\n      var target = event.target || event.srcElement\r\n      var parent = target.parentNode\r\n\r\n      if (parent === this.indicatorContainer[0]) {\r\n        // Click on indicator element\r\n        eventer.stop(event)\r\n        this.slide(this.getNodeIndex(target));\r\n        return;\r\n      } else if (parent.parentNode === this.indicatorContainer[0]) {\r\n        // Click on indicator child element\r\n        this.preventDefault(event)\r\n        this.slide(this.getNodeIndex(parent))\r\n        return;\r\n      }\r\n\r\n\r\n      function isTarget(className) {\r\n        return $(target).hasClass(className) || $(parent).hasClass(className)\r\n      }\r\n      if (isTarget(options.classes.toggleClass)) {\r\n        // Click on \"toggle\" control\r\n        eventer.stop(event)\r\n        this.toggleControls()\r\n      } else if (isTarget(options.classes.prevClass)) {\r\n        // Click on \"prev\" control\r\n        eventer.stop(event)\r\n        this.prev()\r\n      } else if (isTarget(options.classes.nextClass)) {\r\n        // Click on \"next\" control\r\n        eventer.stop(event)\r\n        this.next()\r\n      } else if (isTarget(options.classes.closeClass)) {\r\n        // Click on \"close\" control\r\n        eventer.stop(event)\r\n        this.close()\r\n      } else if (isTarget(options.classes.playPauseClass)) {\r\n        // Click on \"play-pause\" control\r\n        eventer.stop(event)\r\n        this.toggleSlideshow()\r\n      } else if (parent === this.slidesContainer[0]) {\r\n        // Click on slide background\r\n        if (options.closeOnSlideClick) {\r\n          eventer.stop(event)\r\n          this.close()\r\n        } else if (options.toggleControlsOnSlideClick) {\r\n          eventer.stop(event)\r\n          this.toggleControls()\r\n        }\r\n      } else if (\r\n        parent.parentNode &&\r\n        parent.parentNode === this.slidesContainer[0]\r\n      ) {\r\n        // Click on displayed element\r\n        if (options.toggleControlsOnSlideClick) {\r\n          eventer.stop(event)\r\n          this.toggleControls()\r\n        }\r\n      }\r\n    },\r\n\r\n    onclick: function (event) {\r\n      if (\r\n        this.options.emulateTouchEvents &&\r\n        this.touchDelta &&\r\n        (Math.abs(this.touchDelta.x) > 20 || Math.abs(this.touchDelta.y) > 20)\r\n      ) {\r\n        delete this.touchDelta\r\n        return\r\n      }\r\n      return this.handleClick(event)\r\n    },\r\n\r\n    updateEdgeClasses: function (index) {\r\n      if (!index) {\r\n        this._velm.addClass(this.options.classes.leftEdgeClass)\r\n      } else {\r\n        this._velm.removeClass(this.options.classes.leftEdgeClass)\r\n      }\r\n      if (index === this.num - 1) {\r\n        this._velm.addClass(this.options.classes.rightEdgeClass)\r\n      } else {\r\n        this._velm.removeClass(this.options.classes.rightEdgeClass)\r\n      }\r\n    },\r\n\r\n    handleSlide: function (index) {\r\n      if (!this.options.continuous) {\r\n        this.updateEdgeClasses(index)\r\n      }\r\n      this.loadElements(index)\r\n      if (this.options.unloadElements) {\r\n        this.unloadElements(index)\r\n      }\r\n      this.setTitle(index);\r\n      this.setActiveIndicator(index)\r\n    },\r\n\r\n    onslide: function (index) {\r\n      this.index = index\r\n      this.handleSlide(index)\r\n      ///this.setTimeout(this.options.onslide, [index, this.slides[index]])\r\n      langx.defer(this.options.onslide, [index, this.slides[index]]);\r\n    },\r\n\r\n    setTitle: function (index) {\r\n      var firstChild = this.slides[index].firstChild\r\n      var text = firstChild.title || firstChild.alt\r\n      var titleElement = this.titleElement\r\n      if (titleElement.length) {\r\n        this.titleElement.empty()\r\n        if (text) {\r\n          titleElement[0].appendChild(document.createTextNode(text))\r\n        }\r\n      }\r\n    },\r\n\r\n    createElement: function (obj, callback) {\r\n      var element = this.options.renderItem(obj, callback);\r\n      $(element).addClass(this.options.classes.slideContentClass);\r\n      return element;\r\n    },\r\n\r\n    loadElement: function (index) {\r\n      if (!this.elements[index]) {\r\n        if (this.slides[index].firstChild) {\r\n          this.elements[index] = $(this.slides[index]).hasClass(\r\n              this.options.classes.slideErrorClass\r\n            ) ?\r\n            3 :\r\n            2\r\n        } else {\r\n          this.elements[index] = 1 // Loading\r\n          $(this.slides[index]).addClass(this.options.classes.slideLoadingClass)\r\n          this.slides[index].appendChild(\r\n            this.createElement(this.list[index], this.proxyListener)\r\n          )\r\n        }\r\n      }\r\n    },\r\n\r\n    loadElements: function (index) {\r\n      var limit = Math.min(this.num, this.options.preloadRange * 2 + 1)\r\n      var j = index\r\n      var i\r\n      for (i = 0; i < limit; i += 1) {\r\n        // First load the current slide element (0),\r\n        // then the next one (+1),\r\n        // then the previous one (-2),\r\n        // then the next after next (+2), etc.:\r\n        j += i * (i % 2 === 0 ? -1 : 1)\r\n        // Connect the ends of the list to load slide elements for\r\n        // continuous navigation:\r\n        j = this.circle(j)\r\n        this.loadElement(j)\r\n      }\r\n    },\r\n\r\n    unloadElements: function (index) {\r\n      var i, diff\r\n      for (i in this.elements) {\r\n        if (this.elements.hasOwnProperty(i)) {\r\n          diff = Math.abs(index - i)\r\n          if (\r\n            diff > this.options.preloadRange &&\r\n            diff + this.options.preloadRange < this.num\r\n          ) {\r\n            this.unloadSlide(i)\r\n            delete this.elements[i]\r\n          }\r\n        }\r\n      }\r\n    },\r\n\r\n    addSlide: function (index) {\r\n      var slide = this.slidePrototype.cloneNode(false)\r\n      slide.setAttribute('data-index', index)\r\n      this.slidesContainer[0].appendChild(slide)\r\n      this.slides.push(slide);\r\n      this.addIndicator(index)\r\n\r\n    },\r\n\r\n    positionSlide: function (index) {\r\n      var slide = this.slides[index]\r\n      styler.css(slide,{\r\n         \"width\" : this.slideWidth + 'px' ,\r\n         \"left\" : index * -this.slideWidth + 'px'\r\n      });\r\n      this.move(\r\n        index,\r\n        this.index > index ?\r\n        -this.slideWidth :\r\n        this.index < index ? this.slideWidth : 0,\r\n        0\r\n      )\r\n    },\r\n\r\n    initSlides: function (reload) {\r\n      if (!reload) {\r\n        this.indicatorContainer = this._velm.query(\r\n          this.options.selectors.indicatorContainer\r\n        )\r\n        if (this.indicatorContainer.length) {\r\n          this.indicatorPrototype = document.createElement('li')\r\n          this.indicators = this.indicatorContainer[0].children\r\n        }\r\n      }\r\n\r\n      var clearSlides, i\r\n      if (!reload) {\r\n        this.positions = []\r\n        this.positions.length = this.num\r\n        this.elements = {}\r\n        this.imagePrototype = document.createElement('img')\r\n        this.elementPrototype = document.createElement('div')\r\n        this.slidePrototype = document.createElement('div')\r\n        $(this.slidePrototype).addClass(this.options.classes.slideClass)\r\n        this.slides = this.slidesContainer[0].children\r\n        clearSlides =\r\n          this.options.clearSlides || this.slides.length !== this.num\r\n      }\r\n      this.slideWidth = this._velm.clientWidth();\r\n      this.slideHeight = this._velm.clientHeight();\r\n      this.slidesContainer[0].style.width = this.num * this.slideWidth + 'px'\r\n      if (clearSlides) {\r\n        this.resetSlides()\r\n      }\r\n      for (i = 0; i < this.num; i += 1) {\r\n        if (clearSlides) {\r\n          this.addSlide(i)\r\n        }\r\n        this.positionSlide(i)\r\n      }\r\n      // Reposition the slides before and after the given index:\r\n      if (this.options.continuous) {\r\n        this.move(this.circle(this.index - 1), -this.slideWidth, 0)\r\n        this.move(this.circle(this.index + 1), this.slideWidth, 0)\r\n      }\r\n    },\r\n\r\n    unloadSlide: function (index) {\r\n      var slide, firstChild\r\n      slide = this.slides[index]\r\n      firstChild = slide.firstChild\r\n      if (firstChild !== null) {\r\n        slide.removeChild(firstChild)\r\n      }\r\n    },\r\n\r\n    unloadAllSlides: function () {\r\n      var i, len\r\n      for (i = 0, len = this.slides.length; i < len; i++) {\r\n        this.unloadSlide(i)\r\n      }\r\n    },\r\n\r\n    toggleControls: function () {\r\n\r\n      var controlsClass = this.options.classes.controlsClass\r\n      if (this._velm.hasClass(controlsClass)) {\r\n        this._velm.removeClass(controlsClass)\r\n      } else {\r\n        this._velm.addClass(controlsClass)\r\n      }\r\n    },\r\n\r\n    toggleSlideshow: function () {\r\n      if (!this.interval) {\r\n        this.play()\r\n      } else {\r\n        this.pause()\r\n      }\r\n    },\r\n\r\n    getNodeIndex: function (element) {\r\n      return parseInt(element.getAttribute('data-index'), 10)\r\n    },\r\n\r\n    initStartIndex: function () {\r\n      var index = this.options.index;\r\n\r\n      // Make sure the index is in the list range:\r\n      this.index = this.circle(parseInt(index, 10) || 0)\r\n    },\r\n\r\n    initEventListeners: function () {\r\n      var that = this\r\n      var slidesContainer = this.slidesContainer\r\n\r\n      function proxyListener(event) {\r\n        var type =\r\n          browser.support.transition.end === event.type ?\r\n          'transitionend' :\r\n          event.type\r\n        that['on' + type](event)\r\n      }\r\n      $(window).on('resize', proxyListener)\r\n      $(document.body).on('keydown', proxyListener)\r\n      this._velm.on('click', proxyListener)\r\n      if (touch.isTouchEnabled()) {\r\n        slidesContainer.on(\r\n          'touchstart touchmove touchend touchcancel',\r\n          proxyListener\r\n        )\r\n      } else if (this.options.emulateTouchEvents) {\r\n        slidesContainer.on(\r\n          'mousedown mousemove mouseup mouseout',\r\n          proxyListener\r\n        )\r\n      }\r\n\r\n      slidesContainer.on(browser.support.transition.end, proxyListener)\r\n      this.proxyListener = proxyListener\r\n    },\r\n\r\n    destroyEventListeners: function () {\r\n      var slidesContainer = this.slidesContainer\r\n      var proxyListener = this.proxyListener\r\n      $(window).off('resize', proxyListener)\r\n      $(document.body).off('keydown', proxyListener)\r\n      this._velm.off('click', proxyListener)\r\n      if (touch.isTouchEnabled()) {\r\n        slidesContainer.off(\r\n          'touchstart touchmove touchend touchcancel',\r\n          proxyListener\r\n        )\r\n      } else if (this.options.emulateTouchEvents ) {\r\n        slidesContainer.off(\r\n          'mousedown mousemove mouseup mouseout',\r\n          proxyListener\r\n        )\r\n      }\r\n      slidesContainer.off(browser.support.transition.end, proxyListener)\r\n    },\r\n\r\n    handleOpen: function () {\r\n      if (this.options.onopened) {\r\n        this.options.onopened.call(this)\r\n      }\r\n    },\r\n\r\n    initWidget: function () {\r\n      var that = this\r\n\r\n      function openHandler(event) {\r\n        if (event.target === that._elm) {\r\n          that._velm.off(browser.support.transition.end, openHandler)\r\n          that.handleOpen()\r\n        }\r\n      }\r\n      this.slidesContainer = this._velm\r\n        .query(this.options.selectors.slidesContainer)\r\n        .first()\r\n      if (!this.slidesContainer.length) {\r\n\r\n        return false\r\n      }\r\n      this.titleElement = this._velm.query(this.options.selectors.titleElement).first()\r\n      if (this.num === 1) {\r\n        this._velm.addClass(this.options.classes.singleClass)\r\n      }\r\n      if (this.options.onopen) {\r\n        this.options.onopen.call(this)\r\n      }\r\n      if (this.options.displayTransition) {\r\n        this._velm.on(browser.support.transition.end, openHandler)\r\n      } else {\r\n        this.handleOpen()\r\n      }\r\n      if (this.options.hidePageScrollbars) {\r\n        // Hide the page scrollbars:\r\n        this.bodyOverflowStyle = document.body.style.overflow\r\n        document.body.style.overflow = 'hidden'\r\n      }\r\n      this._velm.show();\r\n      this.initSlides()\r\n      this._velm.addClass(this.options.classes.displayClass)\r\n    }\r\n  });\r\n\r\n\r\n  plugins.register(Slidable);\r\n\r\n  return groups.Slidable = Slidable;\r\n});\ndefine('skylark-domx-plugins-dnd/draggable',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-data\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-geom\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"./dnd\",\r\n    \"./manager\"\r\n], function(langx, noder, datax, finder, geom, eventer, styler, plugins, dnd,manager) {\r\n    var on = eventer.on,\r\n        off = eventer.off,\r\n        attr = datax.attr,\r\n        removeAttr = datax.removeAttr,\r\n        offset = geom.pagePosition,\r\n        addClass = styler.addClass,\r\n        height = geom.height;\r\n\r\n\r\n\r\n    var Draggable = plugins.Plugin.inherit({\r\n        klassName: \"Draggable\",\r\n        \r\n        pluginName : \"lark.draggable\",\r\n\r\n        options : {\r\n            draggingClass : \"dragging\"\r\n        },\r\n\r\n        _construct: function(elm, options) {\r\n            this.overrided(elm,options);\r\n\r\n            var self = this,\r\n                options = this.options;\r\n\r\n            self.draggingClass = options.draggingClass;\r\n\r\n            [\"preparing\", \"started\", \"ended\", \"moving\"].forEach(function(eventName) {\r\n                if (langx.isFunction(options[eventName])) {\r\n                    self.on(eventName, options[eventName]);\r\n                }\r\n            });\r\n\r\n\r\n            eventer.on(elm, {\r\n                \"mousedown\": function(e) {\r\n                    var options = self.options;\r\n                    if (options.handle) {\r\n                        self.dragHandle = finder.closest(e.target, options.handle);\r\n                        if (!self.dragHandle) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (options.source) {\r\n                        self.dragSource = finder.closest(e.target, options.source);\r\n                    } else {\r\n                        self.dragSource = self._elm;\r\n                    }\r\n                    manager.prepare(self);\r\n                    if (self.dragSource) {\r\n                        datax.attr(self.dragSource, \"draggable\", 'true');\r\n                    }\r\n                },\r\n\r\n                \"mouseup\": function(e) {\r\n                    if (self.dragSource) {\r\n                        //datax.attr(self.dragSource, \"draggable\", 'false');\r\n                        self.dragSource = null;\r\n                        self.dragHandle = null;\r\n                    }\r\n                },\r\n\r\n                \"dragstart\": function(e) {\r\n                    datax.attr(self.dragSource, \"draggable\", 'false');\r\n                    manager.start(self, e);\r\n                },\r\n\r\n                \"dragend\": function(e) {\r\n                    eventer.stop(e);\r\n\r\n                    if (!manager.dragging) {\r\n                        return;\r\n                    }\r\n\r\n                    manager.end(false);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n    });\r\n\r\n    plugins.register(Draggable,\"draggable\");\r\n\r\n    return dnd.Draggable = Draggable;\r\n});\ndefine('skylark-domx-plugins-dnd/droppable',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-data\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-geom\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"./dnd\",\r\n    \"./manager\"\r\n], function(langx, noder, datax, finder, geom, eventer, styler, plugins, dnd,manager) {\r\n    var on = eventer.on,\r\n        off = eventer.off,\r\n        attr = datax.attr,\r\n        removeAttr = datax.removeAttr,\r\n        offset = geom.pagePosition,\r\n        addClass = styler.addClass,\r\n        height = geom.height;\r\n\r\n\r\n    var Droppable = plugins.Plugin.inherit({\r\n        klassName: \"Droppable\",\r\n\r\n        pluginName : \"lark.droppable\",\r\n\r\n        options : {\r\n            draggingClass : \"dragging\"\r\n        },\r\n\r\n        _construct: function(elm, options) {\r\n            this.overrided(elm,options);\r\n\r\n            var self = this,\r\n                options = self.options,\r\n                draggingClass = options.draggingClass,\r\n                hoverClass,\r\n                activeClass,\r\n                acceptable = true;\r\n\r\n            [\"started\", \"entered\", \"leaved\", \"dropped\", \"overing\"].forEach(function(eventName) {\r\n                if (langx.isFunction(options[eventName])) {\r\n                    self.on(eventName, options[eventName]);\r\n                }\r\n            });\r\n\r\n            eventer.on(elm, {\r\n                \"dragover\": function(e) {\r\n                    e.stopPropagation()\r\n\r\n                    if (!acceptable) {\r\n                        return\r\n                    }\r\n\r\n                    var e2 = eventer.create(\"overing\", {\r\n                        overElm: e.target,\r\n                        transfer: manager.draggingTransfer,\r\n                        acceptable: true\r\n                    });\r\n                    self.trigger(e2);\r\n\r\n                    if (e2.acceptable) {\r\n                        e.preventDefault() // allow drop\r\n\r\n                        e.dataTransfer.dropEffect = \"copyMove\";\r\n                    }\r\n\r\n                },\r\n\r\n                \"dragenter\": function(e) {\r\n                    var options = self.options,\r\n                        elm = self._elm;\r\n\r\n                    var e2 = eventer.create(\"entered\", {\r\n                        transfer: manager.draggingTransfer\r\n                    });\r\n\r\n                    self.trigger(e2);\r\n\r\n                    e.stopPropagation()\r\n\r\n                    if (hoverClass && acceptable) {\r\n                        styler.addClass(elm, hoverClass)\r\n                    }\r\n                },\r\n\r\n                \"dragleave\": function(e) {\r\n                    var options = self.options,\r\n                        elm = self._elm;\r\n                    if (!acceptable) return false\r\n\r\n                    var e2 = eventer.create(\"leaved\", {\r\n                        transfer: manager.draggingTransfer\r\n                    });\r\n\r\n                    self.trigger(e2);\r\n\r\n                    e.stopPropagation()\r\n\r\n                    if (hoverClass && acceptable) {\r\n                        styler.removeClass(elm, hoverClass);\r\n                    }\r\n                },\r\n\r\n                \"drop\": function(e) {\r\n                    var options = self.options,\r\n                        elm = self._elm;\r\n\r\n                    eventer.stop(e); // stops the browser from redirecting.\r\n\r\n                    if (!manager.dragging) return\r\n\r\n                    // manager.dragging.elm.removeClass('dragging');\r\n\r\n                    if (hoverClass && acceptable) {\r\n                        styler.addClass(elm, hoverClass)\r\n                    }\r\n\r\n                    var e2 = eventer.create(\"dropped\", {\r\n                        transfer: manager.draggingTransfer\r\n                    });\r\n\r\n                    self.trigger(e2);\r\n\r\n                    manager.end(true)\r\n                }\r\n            });\r\n\r\n            manager.on(\"dndStarted\", function(e) {\r\n                var e2 = eventer.create(\"started\", {\r\n                    transfer: manager.draggingTransfer,\r\n                    acceptable: false\r\n                });\r\n\r\n                self.trigger(e2);\r\n\r\n                acceptable = e2.acceptable;\r\n                hoverClass = e2.hoverClass;\r\n                activeClass = e2.activeClass;\r\n\r\n                if (activeClass && acceptable) {\r\n                    styler.addClass(elm, activeClass);\r\n                }\r\n\r\n            }).on(\"dndEnded\", function(e) {\r\n                var e2 = eventer.create(\"ended\", {\r\n                    transfer: manager.draggingTransfer,\r\n                    acceptable: false\r\n                });\r\n\r\n                self.trigger(e2);\r\n\r\n                if (hoverClass && acceptable) {\r\n                    styler.removeClass(elm, hoverClass);\r\n                }\r\n                if (activeClass && acceptable) {\r\n                    styler.removeClass(elm, activeClass);\r\n                }\r\n\r\n                acceptable = false;\r\n                activeClass = null;\r\n                hoverClass = null;\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n    plugins.register(Droppable,\"droppable\");\r\n\r\n    return dnd.Droppable = Droppable;\r\n});\ndefine('skylark-domx-plugins-groups/sortable',[\r\n    \"./groups\",\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-data\",\r\n    \"skylark-domx-geom\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"skylark-domx-plugins-dnd/draggable\",\r\n    \"skylark-domx-plugins-dnd/droppable\"\r\n],function(groups, langx,noder,datax,geom,eventer,styler,$,plugins,Draggable,Droppable){\r\n    var on = eventer.on,\r\n        off = eventer.off,\r\n        attr = datax.attr,\r\n        removeAttr = datax.removeAttr,\r\n        offset = geom.pagePosition,\r\n        addClass = styler.addClass,\r\n        height = geom.height,\r\n        some = Array.prototype.some,\r\n        map = Array.prototype.map;\r\n\r\n    var Sorter = plugins.Plugin.inherit({\r\n        \"klassName\" : \"Sorter\",\r\n\r\n        enable : function() {\r\n\r\n        },\r\n        \r\n        disable : function() {\r\n\r\n        },\r\n\r\n        destory : function() {\r\n\r\n        }\r\n    });\r\n\r\n\r\n    var dragging, placeholders = $();\r\n\r\n\r\n    var Sortable = plugins.Plugin.inherit({\r\n        klassName: \"Sortable\",\r\n\r\n        pluginName : \"lark.groups.sortable\",\r\n        \r\n        options : {\r\n            connectWith: false,\r\n            placeholder: null,\r\n            placeholderClass: 'sortable-placeholder',\r\n            draggingClass: 'sortable-dragging',\r\n            items : null\r\n        },\r\n\r\n        /*\r\n         * @param {HTMLElement} container  the element to use as a sortable container\r\n         * @param {Object} options  options object\r\n         * @param {String} [options.items = \"\"] \r\n         * @param {Object} [options.connectWith =] the selector to create connected groups\r\n         * @param {Object} [options\r\n         * @param {Object} [options\r\n         */\r\n        _construct : function (container,options) {\r\n            this.overrided(container,options);\r\n\r\n            options = this.options;\r\n\r\n            var isHandle, index, \r\n                $container = $(container), \r\n                $items = $container.children(options.items);\r\n            var placeholder = $(options.placeholder || noder.createElement(/^(ul|ol)$/i.test(container.tagName) ? 'li' : 'div',{\r\n                \"class\" : options.placeholderClass\r\n            }));\r\n\r\n            Draggable(container,{\r\n                source : options.items,\r\n                handle : options.handle,\r\n                draggingClass : options.draggingClass,\r\n                preparing : function(e) {\r\n                    //e.dragSource = e.handleElm;\r\n                },\r\n                started :function(e) {\r\n                    e.ghost = e.dragSource;\r\n                    e.transfer = {\r\n                        \"text\": \"dummy\"\r\n                    };\r\n                    index = (dragging = $(e.dragSource)).index();\r\n                },\r\n                ended : function(e) {\r\n                    if (!dragging) {\r\n                        return;\r\n                    }\r\n                    dragging.show();\r\n                    placeholders.detach();\r\n                    if (index != dragging.index()) {\r\n                        dragging.parent().trigger('sortupdate', {item: dragging});\r\n                    }\r\n                    dragging = null;                \r\n                }\r\n\r\n            });\r\n\r\n            \r\n            Droppable(container,{\r\n                started: function(e) {\r\n                    e.acceptable = true;\r\n                    e.activeClass = \"active\";\r\n                    e.hoverClass = \"over\";\r\n                },\r\n                overing : function(e) {\r\n                    if ($items.is(e.overElm)) {\r\n                        if (options.forcePlaceholderSize) {\r\n                            placeholder.height(dragging.outerHeight());\r\n                        }\r\n                        dragging.hide();\r\n                        $(e.overElm)[placeholder.index() < $(e.overElm).index() ? 'after' : 'before'](placeholder);\r\n                        placeholders.not(placeholder).detach();\r\n                    } else if (!placeholders.is(e.overElm) && !$(e.overElm).children(options.items).length) {\r\n                        placeholders.detach();\r\n                        $(e.overElm).append(placeholder);\r\n                    }                \r\n                },\r\n                dropped : function(e) {\r\n                    placeholders.filter(':visible').after(dragging);\r\n                    dragging.show();\r\n                    placeholders.detach();\r\n\r\n                    dragging = null;                \r\n                  }\r\n            });\r\n\r\n            $container.data('items', options.items)\r\n            placeholders = placeholders.add(placeholder);\r\n            if (options.connectWith) {\r\n                $(options.connectWith).add(this).data('connectWith', options.connectWith);\r\n            }\r\n            \r\n        }\r\n    });\r\n\r\n    plugins.register(Sortable,\"sortable\");\r\n\r\n    return groups.Sortable = Sortable;\r\n});\r\n\n define('skylark-domx-plugins-groups/tiler',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./groups\",\r\n  \"./group\"\r\n],function(langx,$,elmx,plugins,groups,Group){\r\n\r\n\r\n  var Tiler = Group.inherit({\r\n    klassName : \"Tiler\",\r\n\r\n    pluginName : \"lark.groups.tiler\",\r\n\r\n    options: {\r\n        alignment: 'left',\r\n        infiniteScroll: false,\r\n        itemRendered: null,\r\n        noItemsHTML: 'no items found',\r\n        selectable: false,\r\n        viewClass: \"repeater-tile\",\r\n        template : '<div class=\"clearfix repeater-tile\" data-container=\"true\" data-infinite=\"true\" data-preserve=\"shallow\"></div>',\r\n        item : {\r\n            template: '<div class=\"thumbnail\"><img height=\"75\" src=\"<%= href %>\" width=\"65\"><span><%= title %></span></div>'\r\n        },\r\n        renderItem : null\r\n    },\r\n\r\n    _construct: function (elm, options) {\r\n      this.overrided(elm, options);\r\n\r\n      this._renderItem = langx.template(this.options.item.template);\r\n\r\n      for (var i=0;i<options.items.length;i++) {\r\n        var itemHtml = this._renderItem(options.items[i]);\r\n        this._velm.append($(itemHtml));\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n\r\n  plugins.register(Tiler);\r\n\r\n  return groups.Tiler = Tiler;\t\r\n});\n define('skylark-domx-plugins-groups/tree',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-lists\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./groups\",\r\n  \"./group\",\r\n  \"skylark-domx-plugins-toggles/collapse\"\r\n],function(langx,$,elmx,lists,plugins,groups,Group){\r\n\r\n\r\n  var Tree = Group.inherit({\r\n    klassName : \"Tree\",\r\n\r\n    pluginName : \"lark.groups.tree\",\r\n\r\n    _construct : function(elm,options) {\r\n        this.overrided(elm,options);\r\n\r\n        lists.multitier(elm,langx.mixin({\r\n          hide : function($el) {\r\n\r\n          },\r\n          toggle : function($el) {\r\n\r\n          }\r\n        },this.options));\r\n    }\r\n\r\n  });\r\n\r\n\r\n  plugins.register(Tree);\r\n\r\n  return groups.Tree = Tree;\t\r\n});\ndefine('skylark-domx-plugins-groups/main',[\r\n    \"./groups\",\r\n    \"./group\",\r\n    \"./linear\",\r\n    \"./slidable\",\r\n    \"./sortable\",\r\n    \"./tiler\",\r\n    \"./tree\"\r\n], function(groups) {\r\n    return groups;\r\n});\ndefine('skylark-domx-plugins-groups', ['skylark-domx-plugins-groups/main'], function (main) { return main; });\n\n"]}
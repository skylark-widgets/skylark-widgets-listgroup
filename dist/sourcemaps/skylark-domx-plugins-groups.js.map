{"version":3,"sources":["skylark-domx-plugins-groups.js"],"names":["define","skylark","attach","langx","$","elmx","plugins","groups","Group","Plugin","inherit","klassName","pluginName","options","classes","selectors","item","template","selector","selectable","multiSelect","base","selected","active","_construct","elm","this","overrided","self","velm","_velm","_elm","itemSelector","on","veItem","hasClass","value","getItemValue","toggleSelectOneItem","clearSelectedItems","selectOneItem","resetItems","_$items","findItem","valueOrIdx","isNumber","eq","isString","filter","getItems","$item","data","undefined","index","getItemsCount","size","getItemIndex","isSelectedItem","addClass","unselectOneItem","removeClass","selectedClass","getSelectedItemValues","map","el","getSelectedItems","getActiveItem","activeClass","$activeItem","getSelectedItem","selectedItems","renderItemHtml","itemData","_renderItemHtml","itemTpl","isFunction","register","browser","eventer","Indicators","thumbnail","indicator","indexAttrName","prototype","call","$indicators","query","e","$indicator","target","slideIndex","attr","carousel","jump","preventDefault","createIndicator","_renderIndicatorHtml","addIndicator","setAttribute","append","add","setActiveIndicator","activeIndicatorClass","activeIndicator","events","ModeSlide","Emitter","carsouel","type","next","$active","$next","getItemForDirection","isCycling","interval","direction","moving","relatedTarget","movingEvent","create","trigger","isDefaultPrevented","pause","_indicators","movedEvent","reflow","one","join","setTimeout","emulateTransitionEnd","cycle","styler","Rotatable","Scalable","ModeRotate","reset","_$threedContainer","modes","rotate","threedContainer","_rotatable","started","stopped","_scalable","radius","targets","_start","delayTime","items","itemsCount","_itemsCount","length","deltaDeg","_deltaDeg","i","css","transform","nextIndex","$itemsContainer","_$itemsContainer","ModeCoverflow","Carousel","display","single","leftEdge","rightEdge","cycling","controls","wrap","keyboard","toggle","prev","close","cycleStop","indicators","itemsContainer","indicatorsContainer","mode","startIndex","slide","coverflow","onjumped","onjumping","_$elm","find","mixin","paused","proxy","keydown","document","documentElement","stop","cycled","_mode","addItems","test","tagName","which","isDefined","clearInterval","setInterval","activeIndex","willWrap","delta","itemIndex","pos","that","activeItem","pausing","isUndefined","addItem","itemHtml","baseClass","Collapse","Linear","alignment","infiniteScroll","itemRendered","noItemsHTML","viewClass","renderItem","_renderItem","noder","datax","finder","geom","dnd","manager","off","removeAttr","pagePosition","height","Draggable","draggingClass","forEach","eventName","mousedown","handle","dragHandle","closest","source","dragSource","prepare","mouseup","dragstart","start","dragend","dragging","end","Droppable","hoverClass","acceptable","dragover","stopPropagation","e2","overElm","transfer","draggingTransfer","dataTransfer","dropEffect","dragenter","dragleave","drop","Array","some","enable","disable","destory","placeholders","Sortable","connectWith","placeholder","placeholderClass","container","$container","$items","children","createElement","class","preparing","ghost","text","ended","show","detach","parent","overing","is","forcePlaceholderSize","outerHeight","hide","not","dropped","after","Tiler","lists","Tree","multitier","$el","plugin","main"],"mappings":"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","file":"../skylark-domx-plugins-groups.js","sourcesContent":["define('skylark-domx-plugins-groups/groups',[\r\n\t\"skylark-langx/skylark\"\r\n],function(skylark){\r\n  'use strict'\r\n\treturn skylark.attach(\"domx.plugins.groups\");\r\n});\n define('skylark-domx-plugins-groups/group',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./groups\"\r\n],function(langx,$,elmx,plugins,groups){\r\n  'use strict'\r\n\r\n    /*\r\n     * The base plugin class for grouping items.\r\n     */\r\n    var Group = plugins.Plugin.inherit({\r\n        klassName : \"Group\",\r\n\r\n        pluginName : \"lark.groups.group\",\r\n\r\n        options : {\r\n        \tclasses : {\r\n        \t},\r\n\r\n        \tselectors : {\r\n            //container : \"ul\", // \r\n        \t},\r\n\r\n          item : {\r\n            template : \"<span><i class=\\\"glyphicon\\\"></i><a href=\\\"javascript: void(0);\\\"></a> </span>\",\r\n            selector : \"li\",      // \".list-group-item\"\r\n\r\n            selectable: false,\r\n            multiSelect: false,\r\n\r\n            classes : {\r\n              base : \"item\",\r\n              selected : \"selected\",\r\n              active : \"active\"\r\n            }\r\n          },\r\n\r\n          //active : 0,\r\n\r\n          //A collection or function that is used to generate the content of the group \r\n          /*\r\n           * example1\r\n           *itemsSource : [{  \r\n           *  type: 'image',href : \"https://xxx.com/1.jpg\",title : \"1\"\r\n           *},{\r\n           *  type: 'image',href : \"https://xxx.com/1.jpg\",title : \"1\"\r\n           * }],\r\n           */\r\n          /*\r\n           * example2\r\n           *itemsSource :  function(){},\r\n           */\r\n        },\r\n\r\n        selected : null,\r\n \r\n        _construct : function(elm,options) {\r\n            this.overrided(elm,options);\r\n            var self = this,\r\n                velm = this._velm = elmx(this._elm),\r\n                itemSelector = this.options.item.selector;\r\n\r\n            velm.on('click', itemSelector, function () {\r\n                var veItem = elmx(this);\r\n\r\n                if (self.options.item.selectable && !veItem.hasClass('disabled')) {\r\n                    let value = self.getItemValue(this);\r\n                    if (self.options.item.multiSelect) {\r\n                      self.toggleSelectOneItem(value);\r\n                    } else {\r\n                      self.clearSelectedItems();\r\n                      self.selectOneItem(value);\r\n                    }\r\n                }\r\n\r\n                //veItem.blur();\r\n                return false;\r\n            });\r\n\r\n            this.resetItems();\r\n\r\n            ///if (this.options.item.multiSelect) {\r\n            ///  this.selected = [];\r\n            ///} else {\r\n            ///  this.selected = null;\r\n            ///}\r\n            ///this.selected = this.options.selected;\r\n        },\r\n\r\n        resetItems : function() {\r\n            this._$items = this._velm.$(this.options.item.selector);\r\n        },\r\n\r\n        findItem : function (valueOrIdx) {\r\n          var $item;\r\n          if (langx.isNumber(valueOrIdx)) {\r\n            $item = this._$items.eq(valueOrIdx);\r\n          } else if (langx.isString(valueOrIdx)) {\r\n            $item = this._$items.filter('[data-value=\"' + valueOrIdx + '\"]');\r\n          } else {\r\n            $item = $(valueOrIdx);\r\n          }\r\n          return $item;\r\n        },\r\n\r\n        getItems : function() {\r\n          return this._$items;\r\n        },\r\n\r\n        getItemValue : function(item) {\r\n          let $item = $(item),\r\n              value = $item.data(\"value\");\r\n          if (value === undefined) {\r\n            value = this._$items.index($item[0]);\r\n          }\r\n          return value;\r\n        },\r\n\r\n        getItemsCount : function() {\r\n            return this._$items.size();\r\n        },\r\n\r\n        getItemIndex : function(item) {\r\n            return this._$items.index(item);\r\n        },\r\n\r\n        \r\n        isSelectedItem : function(valueOrIdx) {\r\n          return this.findItem(valueOrIdx).hasClass(this.options.item.classes.selected);\r\n        },\r\n                 \r\n        selectOneItem : function (valueOrIdx) {\r\n          this.findItem(valueOrIdx).addClass(this.options.item.classes.selected);\r\n        },\r\n\r\n        unselectOneItem : function (valueOrIdx) {\r\n            this.findItem(valueOrIdx).removeClass(this.options.item.classes.selected);\r\n        },\r\n\r\n        /*\r\n         * clears the selected items.\r\n         */\r\n        clearSelectedItems : function() {\r\n          let selectedClass = this.options.item.classes.selected;\r\n          this._$items.filter(`.${selectedClass}`).removeClass(selectedClass);\r\n        },\r\n\r\n        getSelectedItemValues : function() {\r\n          let selectedClass = this.options.item.classes.selected;\r\n          return  this._$items.filter(`.${selectedClass}`).map( (el) => {\r\n            return this.getItemValue(el);\r\n          });\r\n        },\r\n\r\n        getSelectedItems : function() {\r\n          let selectedClass = this.options.item.classes.selected;\r\n          return  this._$items.filter(`.${selectedClass}`);\r\n        },\r\n\r\n        getActiveItem : function() {\r\n          let activeClass = this.options.item.classes.active,\r\n              $activeItem = this._$items.filter(`.${activeClass}`);\r\n          return $activeItem[0] || null;\r\n        },\r\n\r\n\r\n        getSelectedItem : function() {\r\n          let selectedItems = this.getSelectedItems();\r\n          return selectedItems[0] || null;\r\n        },\r\n\r\n        toggleSelectOneItem : function(valueOrIdx) {\r\n          if (this.isSelectedItem(valueOrIdx)) {\r\n            this.unselectOneItem(valueOrIdx);\r\n          } else {\r\n            this.selectOneItem(valueOrIdx);\r\n          }\r\n        },\r\n\r\n        renderItemHtml : function(itemData) {\r\n          if (!this._renderItemHtml) {\r\n            let itemTpl = this.options.item.template;\r\n            if (langx.isString(itemTpl)) {\r\n              this._renderItemHtml = langx.template(itemTpl);\r\n            } else if (langx.isFunction(itemTpl)) {\r\n              this._renderItemHtml = itemTpl;\r\n            }\r\n          }\r\n\r\n          return this._renderItemHtml(itemData);\r\n        }\r\n\r\n  });\r\n\r\n\r\n  plugins.register(Group);\r\n\r\n  return groups.Group = Group;\r\n\r\n});\r\n\r\n\r\n\r\n\n define('skylark-domx-plugins-groups/_carousel/indicators',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-browser\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"../groups\"\r\n],function(langx,browser,eventer,$,elmx,plugins,groups){\r\n\r\n\r\n  var Indicators = plugins.Plugin.inherit({\r\n    klassName : \"Indicators\",\r\n\r\n    pluginName : \"lark.groups.carousel.indicators\",\r\n\r\n\r\n    options : {\r\n      thumbnail : true,\r\n\r\n      indicator : {\r\n\t      template : \"<li/>\",\r\n\t      indexAttrName : \"data-index\",\r\n\t      selector : \"> li\",\r\n\t      classes : {\r\n\t          active : \"active\"\r\n\t      }\r\n      }\r\n    },\r\n\r\n    _construct: function(elm, options) {\r\n    \tplugins.Plugin.prototype._construct.call(this,elm,options);\r\n\r\n      this._velm = this.elmx();\r\n    \tthis.$indicators = this._velm.query(this.options.indicator.selector);\r\n\r\n      this._velm.on(\"click\", `[${this.options.indicator.indexAttrName}]`, (e) => {\r\n          var $indicator = $(e.target),\r\n              slideIndex = $indicator.attr(this.options.indicator.indexAttrName);\r\n\r\n          this.options.carousel.jump(slideIndex);\r\n          e.preventDefault();\r\n      });\r\n    },\r\n\r\n\r\n    createIndicator: function (itemData) {\r\n      if (!this._renderIndicatorHtml) {\r\n        this._renderIndicatorHtml = langx.template(this.options.indicator.template);\r\n      }\r\n\r\n      /*\r\n      var indicator = noder.createElement(\"li\");\r\n      var title = itemData.title;\r\n      var thumbnailUrl\r\n      var thumbnail\r\n      if (this.options.thumbnail) {\r\n        thumbnailUrl = itemData[\"thumbnail\"]\r\n\r\n        if (thumbnailUrl) {\r\n          indicator.style.backgroundImage = 'url(\"' + thumbnailUrl + '\")'\r\n        }\r\n      }\r\n      if (title) {\r\n        indicator.title = title;\r\n      }\r\n      */\r\n\r\n      return $(this._renderIndicatorHtml(itemData))[0];\r\n    },\r\n\r\n    addIndicator: function (index,itemData) {\r\n        var indicator = this.createIndicator(itemData)\r\n        indicator.setAttribute('data-index', index)\r\n        this._velm.append(indicator)\r\n        this.$indicators = this.$indicators.add(indicator);\r\n    },\r\n\r\n    setActiveIndicator: function (index) {\r\n      if (this.$indicators) {\r\n        let activeIndicatorClass = this.options.indicator.classes.active;\r\n        if (this.activeIndicator) {\r\n          this.activeIndicator.removeClass(activeIndicatorClass)\r\n        }\r\n        this.activeIndicator = $(this.$indicators[index])\r\n        this.activeIndicator.addClass(activeIndicatorClass)\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return Indicators;\r\n});\n define('skylark-domx-plugins-groups/_carousel/mode-slide',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-langx-events\",\r\n  \"skylark-domx-eventer\"\r\n],function(langx,events,eventer){\r\n  'use strict'\r\n\r\n\r\n  var ModeSlide = events.Emitter.inherit({\r\n\r\n\r\n    _construct : function(carsouel) {\r\n    \tthis.carsouel = carsouel;\r\n    },\r\n\r\n    jump : function(type, next) {\r\n    \tlet carsouel = this.carsouel,\r\n    \t\tvelm = carsouel.elmx(),\r\n    \t\toptions = carsouel.options\r\n\r\n        var $active =  carsouel.$(carsouel.getActiveItem()),\r\n        \t$next = next || carsouel.getItemForDirection(type, $active),\r\n        \tisCycling = carsouel.interval,\r\n        \tdirection = type == 'next' ? 'left' : 'right';\r\n\r\n        if ($next.hasClass('active')) {\r\n        \treturn (carsouel.moving = false)\r\n        }\r\n\r\n        var relatedTarget = $next[0];\r\n\r\n        var movingEvent = eventer.create('jumping.lark.carousel', {\r\n            relatedTarget: relatedTarget,\r\n            direction: direction\r\n        });\r\n\r\n        carsouel.trigger(movingEvent);\r\n        if (movingEvent.isDefaultPrevented()) return\r\n\r\n        carsouel.moving = true;\r\n\r\n        isCycling && carsouel.pause();\r\n\r\n        /*\r\n        if (this._$indicators.length) {\r\n            this._$indicators.find('.active').removeClass('active');\r\n            var $nextIndicator = $(this._$indicators.children()[this.getItemIndex($next)]);\r\n            $nextIndicator && $nextIndicator.addClass('active');\r\n        }\r\n        */\r\n        if (carsouel._indicators) {\r\n            carsouel._indicators.setActiveIndicator(carsouel.getItemIndex($next));\r\n        }\r\n\r\n        var movedEvent = eventer.create('jumped.lark.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\r\n\r\n        $next.addClass(type);\r\n        $next.reflow(); // [0].offsetWidth; // force reflow\r\n        $active.addClass(direction);\r\n        $next.addClass(direction);\r\n        $next\r\n            .one('transitionEnd', function() {\r\n                $next.removeClass([type, direction].join(' ')).addClass('active')\r\n                $active.removeClass(['active', direction].join(' '))\r\n                carsouel.moving = false\r\n                setTimeout(function() {\r\n                    carsouel.trigger(movedEvent)\r\n                }, 0)\r\n            })\r\n            .emulateTransitionEnd();\r\n\r\n        isCycling && carsouel.cycle();\r\n\r\n        return this\r\n    }\r\n\r\n  });\r\n\r\n\r\n  return ModeSlide;\t\r\n});\n define('skylark-domx-plugins-groups/_carousel/mode-rotate',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-langx-events\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-styler\",\r\n  \"skylark-domx-plugins-interact/rotatable\",\r\n  \"skylark-domx-plugins-interact/scalable\"\r\n],function(langx,events,eventer,$,styler,Rotatable,Scalable){\r\n  'use strict'\r\n\r\n\r\n  var ModeRotate = events.Emitter.inherit({\r\n\r\n  \toptions : {\r\n\r\n  \t},\r\n\r\n\r\n    _construct : function(carsouel) {\r\n    \tthis.carsouel = carsouel;\r\n\r\n    \tthis.reset();\r\n\r\n        this._$threedContainer = carsouel.$(`.${carsouel.options.modes.rotate.classes.threedContainer}`)\r\n\r\n    \tthis._rotatable = new Rotatable(this._$threedContainer[0],{\r\n\t\t      started : function() {\r\n\t\t          //playSpin(false);\r\n\t\t      },\r\n\r\n\t\t      stopped : function() {\r\n\t\t          //playSpin(true);\r\n\t\t      }\r\n    \t});\r\n\r\n    \tthis._scalable = new Scalable(this._$threedContainer[0],{\r\n    \t\tradius : carsouel.options.modes.rotate.radius,\r\n    \t\ttargets : carsouel.getItems()\r\n    \t});\r\n\r\n    \tthis._start = 0;\r\n\r\n    },\r\n\r\n    reset : function(delayTime) {\r\n    \tlet items = this.carsouel.getItems();\r\n    \tif (items) {\r\n    \t\tlet itemsCount = this._itemsCount = items.length,\r\n    \t\t\tdeltaDeg = this._deltaDeg = 360 / itemsCount;\r\n\r\n\t\t    for (var i = 0; i < itemsCount; i++) {\r\n\t\t    \tstyler.css(items[i],{\r\n\t\t    \t\ttransform : \"rotateY(\" + (i * deltaDeg) + \"deg)\"\r\n\t\t    \t});\r\n\t\t    }    \t\t\r\n    \t}\r\n\r\n\r\n    },\r\n\r\n    jump : function(type, next) {\r\n    \tlet carsouel = this.carsouel,\r\n    \t\tvelm = carsouel.elmx(),\r\n    \t\toptions = carsouel.options\r\n\r\n        var $active =  carsouel.$(carsouel.getActiveItem()),\r\n        \t$next = next || carsouel.getItemForDirection(type, $active),\r\n        \tisCycling = carsouel.interval,\r\n        \tdirection = type == 'next' ? 'left' : 'right';\r\n\r\n        if ($next.hasClass('active')) {\r\n        \treturn (carsouel.moving = false)\r\n        }\r\n\r\n        let nextIndex = carsouel.getItemIndex($next);\r\n\r\n        var relatedTarget = $next[0];\r\n\r\n        var movingEvent = eventer.create('jumping.lark.carousel', {\r\n            relatedTarget: relatedTarget,\r\n            direction: direction\r\n        });\r\n\r\n        carsouel.trigger(movingEvent);\r\n        if (movingEvent.isDefaultPrevented()) return\r\n\r\n        carsouel.moving = true;\r\n\r\n        ///isCycling && carsouel.pause();\r\n\r\n        /*\r\n        if (this._$indicators.length) {\r\n            this._$indicators.find('.active').removeClass('active');\r\n            var $nextIndicator = $(this._$indicators.children()[this.getItemIndex($next)]);\r\n            $nextIndicator && $nextIndicator.addClass('active');\r\n        }\r\n        */\r\n        if (carsouel._indicators) {\r\n            carsouel._indicators.setActiveIndicator(nextIndex);\r\n        }\r\n\r\n        var movedEvent = eventer.create('jumped.lark.carousel', { relatedTarget: relatedTarget, direction: direction }) // yes, \"slid\"\r\n\r\n        $next.addClass(type);\r\n        $next.reflow(); // [0].offsetWidth; // force reflow\r\n        $active.addClass(direction);\r\n        $next.addClass(direction);\r\n\r\n        let $itemsContainer = carsouel._$itemsContainer;\r\n\r\n        $itemsContainer\r\n            .one('transitionEnd', function() {\r\n                $next.removeClass([type, direction].join(' ')).addClass('active')\r\n                $active.removeClass(['active', direction].join(' '))\r\n                carsouel.moving = false\r\n                setTimeout(function() {\r\n                    carsouel.trigger(movedEvent)\r\n                }, 0)\r\n            })\r\n            .css(\"transform\",\"rotateY(\" + (nextIndex * this._deltaDeg) + \"deg)\")\r\n            .emulateTransitionEnd();\r\n\r\n        //isCycling && carsouel.cycle();\r\n\r\n        return this\r\n    }\r\n\r\n\r\n  });\r\n\r\n\r\n  return ModeRotate;\t\r\n});\n define('skylark-domx-plugins-groups/_carousel/mode-coverflow',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-langx-events\",\r\n  \"skylark-domx-query\",\r\n],function(langx,events,$){\r\n  'use strict'\r\n\r\n\r\n  var ModeCoverflow = events.Emitter.inherit({\r\n\r\n\r\n    _construct : function(carsouel) {\r\n\r\n    }\r\n\r\n  });\r\n\r\n\r\n  return ModeCoverflow;\t\r\n});\n define('skylark-domx-plugins-groups/carousel',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-browser\",\r\n  \"skylark-domx-eventer\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./groups\",\r\n  \"./group\",\r\n  \"./_carousel/indicators\",\r\n  \"./_carousel/mode-slide\",\r\n  \"./_carousel/mode-rotate\",\r\n  \"./_carousel/mode-coverflow\"\r\n],function(langx,browser,eventer,$,elmx,plugins,groups,Group,Indicators,ModeSlide,ModeRotate,ModeCoverflow){\r\n  'use strict'\r\n\r\n \r\n  var Carousel = Group.inherit({\r\n    klassName : \"Carousel\",\r\n\r\n    pluginName : \"lark.groups.carousel\",\r\n\r\n        options : {\r\n            classes : {\r\n             // The class to add when the carousel is visible:\r\n              display: 'display',\r\n              // The class to add when the carousel only displays one item:\r\n              single: 'single',\r\n              // The class to add when the left edge has been reached:\r\n              leftEdge: 'left',\r\n              // The class to add when the right edge has been reached:\r\n              rightEdge: 'right',\r\n              // The class to add when the automatic slideshow is active:\r\n              cycling: 'cycling',\r\n\r\n              // The class to add when the carousel controls are visible:\r\n              controls: 'controls',\r\n            },\r\n\r\n            cycle : {\r\n              // [milliseconds]\r\n              // If a positive number, Carousel will automatically advance to next item after that number of milliseconds\r\n              interval: 5000,\r\n\r\n              pause: 'hover'        \r\n            },\r\n\r\n            wrap: true,\r\n            keyboard: true,\r\n\r\n            controls : {\r\n              selectors : {\r\n               // The class for the \"toggle\" control:\r\n                toggle: '.toggle',\r\n                // The class for the \"prev\" control:\r\n                prev: '.prev',\r\n                // The class for the \"next\" control:\r\n                next: '.next',\r\n                // The class for the \"close\" control:\r\n                close: '.close',\r\n                // The class for the \"play-pause\" toggle control:\r\n                cycleStop: '.cycle-stop'\r\n              }\r\n            },\r\n\r\n            indicators : {\r\n                indicator : {\r\n                  template : \"<li/>\",\r\n                  indexAttrName : \"data-index\"\r\n                },\r\n\r\n            },\r\n\r\n            selectors :{\r\n              itemsContainer : \".items\",\r\n              indicatorsContainer : \".indicators\"\r\n            },\r\n\r\n            item : {\r\n              selector : \".item\",\r\n              classes : {\r\n                base : \"item\"\r\n              }\r\n            },\r\n\r\n            data : {\r\n              //items : \".carousel-item\",  // the items are from dom elements\r\n              //items : [{                 // the items are from json object\r\n              //  type: 'image',href : \"https://xxx.com/1.jpg\",title : \"1\"\r\n              //},{\r\n              //  type: 'image',href : \"https://xxx.com/1.jpg\",title : \"1\"\r\n              // }],\r\n            },\r\n\r\n            mode : \"slide\",\r\n\r\n            startIndex : 0,\r\n\r\n            modes : {\r\n              slide : {\r\n                classes : {\r\n                  base : \"slide\"\r\n                }\r\n              },\r\n\r\n              rotate : {\r\n                classes : {\r\n                  base : \"rotate\",\r\n                  threedContainer : \"threed-container\"\r\n                },\r\n                radius : 240\r\n              },\r\n\r\n              coverflow : {\r\n                classes : {\r\n                  base : \"coverflow\"\r\n                }\r\n              }\r\n            },\r\n\r\n            onjumped : null,\r\n            onjumping : null\r\n        },\r\n\r\n        _construct: function(elm, options) {\r\n            //this.options = options\r\n            Group.prototype._construct.call(this,elm,options);\r\n\r\n            this.options.item.selectable = true;\r\n            this.options.item.multiSelect = false;\r\n\r\n\r\n            this._$elm = this.$();\r\n            this._$itemsContainer = this._$elm.find(this.options.selectors.itemsContainer);\r\n            \r\n            let $indicators = this._$elm.find(this.options.selectors.indicatorsContainer); \r\n            if ($indicators.length>0) {\r\n              this._indicators = new Indicators($indicators[0],langx.mixin({\r\n                carousel : this,\r\n                active : 0\r\n              },this.options.indicators));\r\n              this._indicators.setActiveIndicator(0);\r\n            }\r\n\r\n\r\n\r\n            this.paused = null;\r\n            this.moving = null;\r\n            this.interval = null;\r\n            this.$active = null;\r\n\r\n            if (this.options.cycle.interval >0) {\r\n              this.cycle(true);\r\n            } else {\r\n              this.cycle(false);\r\n            }\r\n\r\n            var self = this;\r\n            this.options.keyboard && this._$elm.on('keydown.lark.carousel', langx.proxy(this.keydown, this))\r\n\r\n            this.options.cycle.pause == 'hover' && !('ontouchstart' in document.documentElement) && this._$elm\r\n                .on('mouseenter.lark.carousel', (e) => {\r\n                  this.pause(true);\r\n                }).on('mouseleave.lark.carousel', (e) => {\r\n                  this.pause(false)\r\n                });\r\n\r\n            this._$elm.find(this.options.controls.selectors.prev).on(\"click\",(e)=>{\r\n                this.prev();\r\n                eventer.stop(e);\r\n            });\r\n\r\n            this._$elm.find(this.options.controls.selectors.next).on(\"click\",(e)=>{\r\n                this.next();\r\n                eventer.stop(e);\r\n            });\r\n\r\n            this._$elm.find(this.options.controls.selectors.cycleStop).on(\"click\",(e)=>{\r\n                this.cycle(!this.cycled);\r\n                eventer.stop(e);\r\n            });\r\n\r\n            this._mode = new modes[this.options.mode](this);\r\n\r\n            if (this.options.data.items) {\r\n                this.addItems(this.options.data.items);\r\n                this.jump(this.options.startIndex)\r\n            }\r\n\r\n            if (this.options.onjumped) {\r\n              this.on(\"jumped\",this.options.onjumped)\r\n            }\r\n\r\n            if (this.options.onjumping) {\r\n              this.on(\"jumping\",this.options.onjumping)\r\n            }\r\n        },\r\n\r\n        keydown : function(e) {\r\n            if (/input|textarea/i.test(e.target.tagName)) return\r\n            switch (e.which) {\r\n                case 37:\r\n                    this.prev();\r\n                    break\r\n                case 39:\r\n                    this.next();\r\n                    break\r\n                default:\r\n                    return\r\n            }\r\n\r\n            e.preventDefault()\r\n        },\r\n\r\n\r\n        /*\r\n         * Cycles through the carousel items from left to right.\r\n         */\r\n        cycle : function(cycling) {\r\n            if (langx.isDefined(cycling)) {\r\n              this.cycled = !!cycling;\r\n             ///  e || (this.paused = false)\r\n              if (this.cycled) {\r\n                 this._velm.addClass(this.options.classes.cycling)\r\n              } else {\r\n                 this._velm.removeClass(this.options.classes.cycling)\r\n              }\r\n            } \r\n\r\n            if (this.interval){\r\n              clearInterval(this.interval);\r\n            }\r\n\r\n            if (this.options.cycle.interval && this.cycled && !this.paused ) {\r\n                this.interval = setInterval(langx.proxy(this.next, this), this.options.cycle.interval);\r\n            }\r\n\r\n            return this;\r\n        },\r\n\r\n\r\n        getItemForDirection : function(direction, active) {\r\n            var activeIndex = this.getItemIndex(active)\r\n            var willWrap = (direction == 'prev' && activeIndex === 0) ||\r\n                (direction == 'next' && activeIndex == (this._$items.length - 1))\r\n            if (willWrap && !this.options.wrap) return active\r\n            var delta = direction == 'prev' ? -1 : 1\r\n            var itemIndex = (activeIndex + delta) % this._$items.length\r\n            return this._$items.eq(itemIndex);\r\n        },\r\n\r\n        /*\r\n         *Cycles the carousel to a particular frame (0 based, similar to an array). Returns to the caller before the target item has been shown\r\n         */\r\n        jump : function(pos) {\r\n            var that = this;\r\n\r\n            var activeItem = this.getActiveItem(),\r\n                activeIndex = activeItem ? this.getItemIndex(activeItem) : -1;\r\n\r\n            if (pos > (this._$items.length - 1) || pos < 0) return\r\n\r\n            if (this.moving) return this._$elm.one('jumped.lark.carousel', function() { that.jump(pos) }) // yes, \"slid\"\r\n            if (activeIndex == pos)  return this.pause().cycle()\r\n\r\n            return this._mode.jump(pos > activeIndex ? 'next' : 'prev', this._$items.eq(pos))\r\n        },\r\n\r\n        /*\r\n         * Stops the carousel from cycling through items.\r\n         */\r\n        pause : function(pausing) {\r\n            if (langx.isUndefined(pausing)) {\r\n              pausing = true;\r\n            }\r\n            this.paused = !!pausing;\r\n\r\n            ///e || (this.paused = true)\r\n\r\n            ///if (this._$elm.find(this.options.controls.selectors.next + \",\"+ this.options.controls.selectors.prev).length) { //.next,.prev\r\n                ///this._$elm.trigger(browser.support.transition.end)\r\n                ///this.cycle(true)\r\n            ///}\r\n\r\n            ///this.interval = clearInterval(this.interval)\r\n            this.cycle();\r\n\r\n            return this\r\n        },\r\n\r\n        /*\r\n         * Cycles to the next item. Returns to the caller before the next item has been shown\r\n         */\r\n        next : function() {\r\n            if (this.moving) {\r\n              return\r\n            }\r\n            return this._mode.jump('next')\r\n        },\r\n\r\n        /*\r\n         * Cycles to the previous item. Returns to the caller before the previous item has been shown.\r\n         */\r\n        prev : function() {\r\n           if (this.moving) return\r\n            return this._mode.jump('prev')\r\n        },\r\n\r\n        resetItems : function() {\r\n          Group.prototype.resetItems.call(this);\r\n\r\n          if (this._mode && this._mode.resetItems) {\r\n            this._mode.resetItems();\r\n          }\r\n        },\r\n\r\n        addItems : function(items) {\r\n            let index = this.getItemsCount();\r\n            for (var i=0; i<items.length;i++) {\r\n              this.addItem(index++,items[i]);\r\n            }\r\n            this.resetItems();\r\n        },\r\n\r\n        addItem : function(index,itemData) {\r\n          let itemHtml = this.renderItemHtml(itemData),\r\n              baseClass = this.options.item.classes.base;\r\n\r\n\r\n          let $item = $(itemHtml);\r\n          if (baseClass) {\r\n            $item.addClass(baseClass);\r\n          }\r\n\r\n          if (this._$itemsContainer) {\r\n            this._$itemsContainer.append($item);\r\n          }\r\n          if (this._indicators) {\r\n            this._indicators.addIndicator(index,itemData);\r\n          }\r\n\r\n        }\r\n  });\r\n\r\n  var modes = Carousel.modes = {\r\n    \"slide\" : ModeSlide,\r\n    \"rotate\" : ModeRotate,\r\n    \"coverflow\" : ModeCoverflow\r\n  };\r\n\r\n  plugins.register(Carousel);\r\n\r\n  return groups.Carousel = Carousel;\t\r\n});\n define('skylark-domx-plugins-groups/linear',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"skylark-domx-plugins-toggles/collapse\",\r\n  \"./groups\",\r\n  \"./group\"\r\n],function(langx,$,elmx,plugins,Collapse,groups,Group){\r\n  'use strict'\r\n\r\n  var Linear = Group.inherit({\r\n    klassName : \"Tiler\",\r\n\r\n    pluginName : \"lark.groups.linear\",\r\n\r\n    options: {\r\n       alignment: 'left',\r\n        infiniteScroll: false,\r\n        itemRendered: null,\r\n        noItemsHTML: 'no items found',\r\n        selectable: false,\r\n\r\n        template : '<ul class=\"clearfix repeater-linear\" data-container=\"true\" data-infinite=\"true\" data-preserve=\"shallow\"></ul>',\r\n        item : {\r\n            template: '<li class=\"repeater-item\"><img  src=\"{{ThumbnailImage}}\" class=\"thumb\"/><h4 class=\"title\">{{name}}</h4></div>',\r\n            \r\n        },\r\n\r\n        viewClass: \"repeater-linear\",\r\n        renderItem : null\r\n    },\r\n\r\n    _construct: function (elm, options) {\r\n      this.overrided(elm, options);\r\n\r\n      this._renderItem = langx.template(this.options.item.template);\r\n\r\n      for (var i=0;i<options.items.length;i++) {\r\n        var itemHtml = this._renderItem(options.items[i]);\r\n        this._velm.append($(itemHtml));\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  plugins.register(Linear);\r\n\r\n  return groups.Linear = Linear;\r\n\r\n});\r\n\r\n\r\n\r\n\ndefine('skylark-domx-plugins-dnd/draggable',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-data\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-geom\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"./dnd\",\r\n    \"./manager\"\r\n], function(langx, noder, datax, finder, geom, eventer, styler, plugins, dnd,manager) {\r\n    var on = eventer.on,\r\n        off = eventer.off,\r\n        attr = datax.attr,\r\n        removeAttr = datax.removeAttr,\r\n        offset = geom.pagePosition,\r\n        addClass = styler.addClass,\r\n        height = geom.height;\r\n\r\n\r\n\r\n    var Draggable = plugins.Plugin.inherit({\r\n        klassName: \"Draggable\",\r\n        \r\n        pluginName : \"lark.dnd.draggable\",\r\n\r\n        options : {\r\n            draggingClass : \"dragging\"\r\n        },\r\n\r\n        _construct: function(elm, options) {\r\n            this.overrided(elm,options);\r\n\r\n            var self = this,\r\n                options = this.options;\r\n\r\n            self.draggingClass = options.draggingClass;\r\n\r\n            [\"preparing\", \"started\", \"ended\", \"moving\"].forEach(function(eventName) {\r\n                if (langx.isFunction(options[eventName])) {\r\n                    self.on(eventName, options[eventName]);\r\n                }\r\n            });\r\n\r\n\r\n            eventer.on(elm, {\r\n                \"mousedown\": function(e) {\r\n                    var options = self.options;\r\n                    if (options.handle) {\r\n                        self.dragHandle = finder.closest(e.target, options.handle);\r\n                        if (!self.dragHandle) {\r\n                            return;\r\n                        }\r\n                    }\r\n                    if (options.source) {\r\n                        self.dragSource = finder.closest(e.target, options.source);\r\n                    } else {\r\n                        self.dragSource = self._elm;\r\n                    }\r\n                    manager.prepare(self);\r\n                    if (self.dragSource) {\r\n                        datax.attr(self.dragSource, \"draggable\", 'true');\r\n                    }\r\n                },\r\n\r\n                \"mouseup\": function(e) {\r\n                    if (self.dragSource) {\r\n                        //datax.attr(self.dragSource, \"draggable\", 'false');\r\n                        self.dragSource = null;\r\n                        self.dragHandle = null;\r\n                    }\r\n                },\r\n\r\n                \"dragstart\": function(e) {\r\n                    datax.attr(self.dragSource, \"draggable\", 'false');\r\n                    manager.start(self, e);\r\n                },\r\n\r\n                \"dragend\": function(e) {\r\n                    eventer.stop(e);\r\n\r\n                    if (!manager.dragging) {\r\n                        return;\r\n                    }\r\n\r\n                    manager.end(false);\r\n                }\r\n            });\r\n\r\n        }\r\n\r\n    });\r\n\r\n    plugins.register(Draggable,\"draggable\");\r\n\r\n    return dnd.Draggable = Draggable;\r\n});\ndefine('skylark-domx-plugins-dnd/droppable',[\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-data\",\r\n    \"skylark-domx-finder\",\r\n    \"skylark-domx-geom\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"./dnd\",\r\n    \"./manager\"\r\n], function(langx, noder, datax, finder, geom, eventer, styler, plugins, dnd,manager) {\r\n    var on = eventer.on,\r\n        off = eventer.off,\r\n        attr = datax.attr,\r\n        removeAttr = datax.removeAttr,\r\n        offset = geom.pagePosition,\r\n        addClass = styler.addClass,\r\n        height = geom.height;\r\n\r\n\r\n    var Droppable = plugins.Plugin.inherit({\r\n        klassName: \"Droppable\",\r\n\r\n        pluginName : \"lark.dnd.droppable\",\r\n\r\n        options : {\r\n            draggingClass : \"dragging\"\r\n        },\r\n\r\n        _construct: function(elm, options) {\r\n            this.overrided(elm,options);\r\n\r\n            var self = this,\r\n                options = self.options,\r\n                draggingClass = options.draggingClass,\r\n                hoverClass,\r\n                activeClass,\r\n                acceptable = true;\r\n\r\n            [\"started\", \"entered\", \"leaved\", \"dropped\", \"overing\"].forEach(function(eventName) {\r\n                if (langx.isFunction(options[eventName])) {\r\n                    self.on(eventName, options[eventName]);\r\n                }\r\n            });\r\n\r\n            eventer.on(elm, {\r\n                \"dragover\": function(e) {\r\n                    e.stopPropagation()\r\n\r\n                    if (!acceptable) {\r\n                        return\r\n                    }\r\n\r\n                    var e2 = eventer.create(\"overing\", {\r\n                        overElm: e.target,\r\n                        transfer: manager.draggingTransfer,\r\n                        acceptable: true\r\n                    });\r\n                    self.trigger(e2);\r\n\r\n                    if (e2.acceptable) {\r\n                        e.preventDefault() // allow drop\r\n\r\n                        e.dataTransfer.dropEffect = \"copyMove\";\r\n                    }\r\n\r\n                },\r\n\r\n                \"dragenter\": function(e) {\r\n                    var options = self.options,\r\n                        elm = self._elm;\r\n\r\n                    var e2 = eventer.create(\"entered\", {\r\n                        transfer: manager.draggingTransfer\r\n                    });\r\n\r\n                    self.trigger(e2);\r\n\r\n                    e.stopPropagation()\r\n\r\n                    if (hoverClass && acceptable) {\r\n                        styler.addClass(elm, hoverClass)\r\n                    }\r\n                },\r\n\r\n                \"dragleave\": function(e) {\r\n                    var options = self.options,\r\n                        elm = self._elm;\r\n                    if (!acceptable) return false\r\n\r\n                    var e2 = eventer.create(\"leaved\", {\r\n                        transfer: manager.draggingTransfer\r\n                    });\r\n\r\n                    self.trigger(e2);\r\n\r\n                    e.stopPropagation()\r\n\r\n                    if (hoverClass && acceptable) {\r\n                        styler.removeClass(elm, hoverClass);\r\n                    }\r\n                },\r\n\r\n                \"drop\": function(e) {\r\n                    var options = self.options,\r\n                        elm = self._elm;\r\n\r\n                    eventer.stop(e); // stops the browser from redirecting.\r\n\r\n                    if (!manager.dragging) return\r\n\r\n                    // manager.dragging.elm.removeClass('dragging');\r\n\r\n                    if (hoverClass && acceptable) {\r\n                        styler.addClass(elm, hoverClass)\r\n                    }\r\n\r\n                    var e2 = eventer.create(\"dropped\", {\r\n                        transfer: manager.draggingTransfer\r\n                    });\r\n\r\n                    self.trigger(e2);\r\n\r\n                    manager.end(true)\r\n                }\r\n            });\r\n\r\n            manager.on(\"dndStarted\", function(e) {\r\n                var e2 = eventer.create(\"started\", {\r\n                    transfer: manager.draggingTransfer,\r\n                    acceptable: false\r\n                });\r\n\r\n                self.trigger(e2);\r\n\r\n                acceptable = e2.acceptable;\r\n                hoverClass = e2.hoverClass;\r\n                activeClass = e2.activeClass;\r\n\r\n                if (activeClass && acceptable) {\r\n                    styler.addClass(elm, activeClass);\r\n                }\r\n\r\n            }).on(\"dndEnded\", function(e) {\r\n                var e2 = eventer.create(\"ended\", {\r\n                    transfer: manager.draggingTransfer,\r\n                    acceptable: false\r\n                });\r\n\r\n                self.trigger(e2);\r\n\r\n                if (hoverClass && acceptable) {\r\n                    styler.removeClass(elm, hoverClass);\r\n                }\r\n                if (activeClass && acceptable) {\r\n                    styler.removeClass(elm, activeClass);\r\n                }\r\n\r\n                acceptable = false;\r\n                activeClass = null;\r\n                hoverClass = null;\r\n            });\r\n\r\n        }\r\n    });\r\n\r\n    plugins.register(Droppable,\"droppable\");\r\n\r\n    return dnd.Droppable = Droppable;\r\n});\ndefine('skylark-domx-plugins-groups/sortable',[\r\n    \"./groups\",\r\n    \"skylark-langx/langx\",\r\n    \"skylark-domx-noder\",\r\n    \"skylark-domx-data\",\r\n    \"skylark-domx-geom\",\r\n    \"skylark-domx-eventer\",\r\n    \"skylark-domx-styler\",\r\n    \"skylark-domx-query\",\r\n    \"skylark-domx-plugins-base\",\r\n    \"skylark-domx-plugins-dnd/draggable\",\r\n    \"skylark-domx-plugins-dnd/droppable\"\r\n],function(groups, langx,noder,datax,geom,eventer,styler,$,plugins,Draggable,Droppable){\r\n   'use strict'\r\n\r\n    var on = eventer.on,\r\n        off = eventer.off,\r\n        attr = datax.attr,\r\n        removeAttr = datax.removeAttr,\r\n        offset = geom.pagePosition,\r\n        addClass = styler.addClass,\r\n        height = geom.height,\r\n        some = Array.prototype.some,\r\n        map = Array.prototype.map;\r\n\r\n    var Sorter = plugins.Plugin.inherit({\r\n        \"klassName\" : \"Sorter\",\r\n\r\n        enable : function() {\r\n\r\n        },\r\n        \r\n        disable : function() {\r\n\r\n        },\r\n\r\n        destory : function() {\r\n\r\n        }\r\n    });\r\n\r\n\r\n    var dragging, placeholders = $();\r\n\r\n\r\n    var Sortable = plugins.Plugin.inherit({\r\n        klassName: \"Sortable\",\r\n\r\n        pluginName : \"lark.groups.sortable\",\r\n        \r\n        options : {\r\n            connectWith: false,\r\n            placeholder: null,\r\n            placeholderClass: 'sortable-placeholder',\r\n            draggingClass: 'sortable-dragging',\r\n            items : null\r\n        },\r\n\r\n        /*\r\n         * @param {HTMLElement} container  the element to use as a sortable container\r\n         * @param {Object} options  options object\r\n         * @param {String} [options.items = \"\"] \r\n         * @param {Object} [options.connectWith =] the selector to create connected groups\r\n         * @param {Object} [options\r\n         * @param {Object} [options\r\n         */\r\n        _construct : function (container,options) {\r\n            this.overrided(container,options);\r\n\r\n            options = this.options;\r\n\r\n            var isHandle, index, \r\n                $container = $(container), \r\n                $items = $container.children(options.items);\r\n            var placeholder = $(options.placeholder || noder.createElement(/^(ul|ol)$/i.test(container.tagName) ? 'li' : 'div',{\r\n                \"class\" : options.placeholderClass\r\n            }));\r\n\r\n            Draggable(container,{\r\n                source : options.items,\r\n                handle : options.handle,\r\n                draggingClass : options.draggingClass,\r\n                preparing : function(e) {\r\n                    //e.dragSource = e.handleElm;\r\n                },\r\n                started :function(e) {\r\n                    e.ghost = e.dragSource;\r\n                    e.transfer = {\r\n                        \"text\": \"dummy\"\r\n                    };\r\n                    index = (dragging = $(e.dragSource)).index();\r\n                },\r\n                ended : function(e) {\r\n                    if (!dragging) {\r\n                        return;\r\n                    }\r\n                    dragging.show();\r\n                    placeholders.detach();\r\n                    if (index != dragging.index()) {\r\n                        dragging.parent().trigger('sortupdate', {item: dragging});\r\n                    }\r\n                    dragging = null;                \r\n                }\r\n\r\n            });\r\n\r\n            \r\n            Droppable(container,{\r\n                started: function(e) {\r\n                    e.acceptable = true;\r\n                    e.activeClass = \"active\";\r\n                    e.hoverClass = \"over\";\r\n                },\r\n                overing : function(e) {\r\n                    if ($items.is(e.overElm)) {\r\n                        if (options.forcePlaceholderSize) {\r\n                            placeholder.height(dragging.outerHeight());\r\n                        }\r\n                        dragging.hide();\r\n                        $(e.overElm)[placeholder.index() < $(e.overElm).index() ? 'after' : 'before'](placeholder);\r\n                        placeholders.not(placeholder).detach();\r\n                    } else if (!placeholders.is(e.overElm) && !$(e.overElm).children(options.items).length) {\r\n                        placeholders.detach();\r\n                        $(e.overElm).append(placeholder);\r\n                    }                \r\n                },\r\n                dropped : function(e) {\r\n                    placeholders.filter(':visible').after(dragging);\r\n                    dragging.show();\r\n                    placeholders.detach();\r\n\r\n                    dragging = null;                \r\n                  }\r\n            });\r\n\r\n            $container.data('items', options.items)\r\n            placeholders = placeholders.add(placeholder);\r\n            if (options.connectWith) {\r\n                $(options.connectWith).add(this).data('connectWith', options.connectWith);\r\n            }\r\n            \r\n        }\r\n    });\r\n\r\n    plugins.register(Sortable,\"sortable\");\r\n\r\n    return groups.Sortable = Sortable;\r\n});\r\n\n define('skylark-domx-plugins-groups/tiler',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./groups\",\r\n  \"./group\"\r\n],function(langx,$,elmx,plugins,groups,Group){\r\n  'use strict'\r\n\r\n  var Tiler = Group.inherit({\r\n    klassName : \"Tiler\",\r\n\r\n    pluginName : \"lark.groups.tiler\",\r\n\r\n    options: {\r\n        alignment: 'left',\r\n        infiniteScroll: false,\r\n        itemRendered: null,\r\n        noItemsHTML: 'no items found',\r\n        selectable: false,\r\n        viewClass: \"repeater-tile\",\r\n        template : '<div class=\"clearfix repeater-tile\" data-container=\"true\" data-infinite=\"true\" data-preserve=\"shallow\"></div>',\r\n        item : {\r\n            template: '<div class=\"thumbnail\"><img height=\"75\" src=\"<%= href %>\" width=\"65\"><span><%= title %></span></div>',\r\n            selectable : true\r\n        },\r\n        renderItem : null\r\n    },\r\n\r\n    _construct: function (elm, options) {\r\n      this.overrided(elm, options);\r\n\r\n      this._renderItem = langx.template(this.options.item.template);\r\n\r\n      for (var i=0;i<options.items.length;i++) {\r\n        var itemHtml = this._renderItem(options.items[i]);\r\n        this._velm.append($(itemHtml));\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n\r\n  plugins.register(Tiler);\r\n\r\n  return groups.Tiler = Tiler;\t\r\n});\n define('skylark-domx-plugins-groups/tree',[\r\n  \"skylark-langx/langx\",\r\n  \"skylark-domx-query\",\r\n  \"skylark-domx-velm\",\r\n  \"skylark-domx-lists\",\r\n  \"skylark-domx-plugins-base\",\r\n  \"./groups\",\r\n  \"./group\",\r\n  \"skylark-domx-plugins-toggles/collapse\"\r\n],function(langx,$,elmx,lists,plugins,groups,Group){\r\n  'use strict'\r\n\r\n\r\n  var Tree = Group.inherit({\r\n    klassName : \"Tree\",\r\n\r\n    pluginName : \"lark.groups.tree\",\r\n\r\n    _construct : function(elm,options) {\r\n        this.overrided(elm,options);\r\n\r\n        lists.multitier(elm,langx.mixin({\r\n          hide : function($el) {\r\n            $el.plugin(\"lark.toggles.collapse\").hide();\r\n          },\r\n          toggle : function($el) {\r\n            $el.plugin(\"lark.toggles.collapse\").toggle();\r\n          }\r\n        },this.options));\r\n    }\r\n\r\n  });\r\n\r\n\r\n  plugins.register(Tree);\r\n\r\n  return groups.Tree = Tree;\t\r\n});\ndefine('skylark-domx-plugins-groups/main',[\r\n    \"./groups\",\r\n    \"./group\",\r\n    \"./carousel\",\r\n    \"./linear\",\r\n    \"./sortable\",\r\n    \"./tiler\",\r\n    \"./tree\"\r\n], function(groups) {\r\n    return groups;\r\n});\ndefine('skylark-domx-plugins-groups', ['skylark-domx-plugins-groups/main'], function (main) { return main; });\n\n"]}
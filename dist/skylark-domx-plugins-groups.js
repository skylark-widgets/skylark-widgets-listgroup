/**
 * skylark-domx-plugins-groups - The skylark list plugin library.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx/skylark-domx-plugins-groups/
 * @license MIT
 */
!function(t,e){var s=e.define,require=e.require,i="function"==typeof s&&s.amd,n=!i&&"undefined"!=typeof exports;if(!i&&!s){var o={};s=e.define=function(t,e,s){"function"==typeof s?(o[t]={factory:s,deps:e.map(function(e){return function(t,e){if("."!==t[0])return t;var s=e.split("/"),i=t.split("/");s.pop();for(var n=0;n<i.length;n++)"."!=i[n]&&(".."==i[n]?s.pop():s.push(i[n]));return s.join("/")}(e,t)}),resolved:!1,exports:null},require(t)):o[t]={factory:null,resolved:!0,exports:s}},require=e.require=function(t){if(!o.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=o[t];if(!module.resolved){var s=[];module.deps.forEach(function(t){s.push(require(t))}),module.exports=module.factory.apply(e,s)||null,module.resolved=!0}return module.exports}}if(!s)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-domx-plugins-groups/groups",["skylark-langx/skylark"],function(t){"use strict";return t.attach("domx.plugins.groups")}),t("skylark-domx-plugins-groups/group",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","./groups"],function(t,e,s,i,n){"use strict";var o=i.Plugin.inherit({klassName:"Group",pluginName:"lark.groups.group",options:{classes:{},selectors:{},item:{template:'<span><i class="glyphicon"></i><a href="javascript: void(0);"></a> </span>',selector:"li",selectable:!1,multiSelect:!1,classes:{base:"item",selected:"selected",active:"active"}}},selected:null,_construct:function(t,e){this.overrided(t,e);var i=this,n=this._velm=s(this._elm),o=this.options.item.selector;n.on("click",o,function(){var t=s(this);if(i.options.item.selectable&&!t.hasClass("disabled")){let t=i.getItemValue(this);i.options.item.multiSelect?i.toggleSelectOneItem(t):(i.clearSelectedItems(),i.selectOneItem(t))}return!1}),this.resetItems()},resetItems:function(){this._$items=this._velm.$(this.options.item.selector)},findItem:function(s){return t.isNumber(s)?this._$items.eq(s):t.isString(s)?this._$items.filter('[data-value="'+s+'"]'):e(s)},getItemValue:function(t){let s=e(t),i=s.data("value");return void 0===i&&(i=this._$items.index(s[0])),i},getItemsCount:function(){return this._$items.size()},getItemIndex:function(t){return this._$items.index(t)},isSelectedItem:function(t){return this.findItem(t).hasClass(this.options.item.classes.selected)},selectOneItem:function(t){this.findItem(t).addClass(this.options.item.classes.selected)},unselectOneItem:function(t){this.findItem(t).removeClass(this.options.item.classes.selected)},clearSelectedItems:function(){let t=this.options.item.classes.selected;this._$items.filter(`.${t}`).removeClass(t)},getSelectedItemValues:function(){let t=this.options.item.classes.selected;return this._$items.filter(`.${t}`).map(t=>this.getItemValue(t))},getSelectedItems:function(){let t=this.options.item.classes.selected;return this._$items.filter(`.${t}`)},getActiveItem:function(){let t=this.options.item.classes.active,e=this._$items.filter(`.${t}`);return e[0]||null},getSelectedItem:function(){let t=this.getSelectedItems();return t[0]||null},toggleSelectOneItem:function(t){this.isSelectedItem(t)?this.unselectOneItem(t):this.selectOneItem(t)},renderItemHtml:function(e){if(!this._renderItemHtml){let e=this.options.item.template;t.isString(e)?this._renderItemHtml=t.template(e):t.isFunction(e)&&(this._renderItemHtml=e)}return this._renderItemHtml(e)}});return i.register(o),n.Group=o}),t("skylark-domx-plugins-groups/_carousel/indicators",["skylark-langx/langx","skylark-domx-browser","skylark-domx-eventer","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","../groups"],function(t,e,s,i,n,o,l){var a=o.Plugin.inherit({klassName:"Indicators",pluginName:"lark.groups.carousel.indicators",options:{thumbnail:!0,indicator:{template:"<li/>",indexAttrName:"data-index",selector:"> li",classes:{active:"active"}}},_construct:function(t,e){o.Plugin.prototype._construct.call(this,t,e),this._velm=this.elmx(),this.$indicators=this._velm.query(this.options.indicator.selector),this._velm.on("click",`[${this.options.indicator.indexAttrName}]`,t=>{var e=i(t.target),s=e.attr(this.options.indicator.indexAttrName);this.options.carousel.jump(s),t.preventDefault()})},createIndicator:function(e){return this._renderIndicatorHtml||(this._renderIndicatorHtml=t.template(this.options.indicator.template)),i(this._renderIndicatorHtml(e))[0]},addIndicator:function(t,e){var s=this.createIndicator(e);s.setAttribute("data-index",t),this._velm.append(s),this.$indicators=this.$indicators.add(s)},setActiveIndicator:function(t){if(this.$indicators){let e=this.options.indicator.classes.active;this.activeIndicator&&this.activeIndicator.removeClass(e),this.activeIndicator=i(this.$indicators[t]),this.activeIndicator.addClass(e)}}});return a}),t("skylark-domx-plugins-groups/_carousel/effect_slide",["skylark-langx/langx","skylark-langx-events","skylark-domx-eventer"],function(t,e,s){"use strict";var i=e.Emitter.inherit({_construct:function(t){this.carsouel=t},jump:function(t,e){let i=this.carsouel;i.elmx(),i.options;var n=i.$(i.getActiveItem()),o=e||i.getItemForDirection(t,n),l=i.interval,a="next"==t?"left":"right";if(o.hasClass("active"))return i.moving=!1;var r=o[0],d=s.create("jumping.lark.carousel",{relatedTarget:r,direction:a});if(i.trigger(d),!d.isDefaultPrevented()){i.moving=!0,l&&i.pause(),i._indicators&&i._indicators.setActiveIndicator(i.getItemIndex(o));var h=s.create("jumped.lark.carousel",{relatedTarget:r,direction:a});return o.addClass(t),o.reflow(),n.addClass(a),o.addClass(a),o.one("transitionEnd",function(){o.removeClass([t,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),i.moving=!1,setTimeout(function(){i.trigger(h)},0)}).emulateTransitionEnd(),l&&i.cycle(),this}}});return i}),t("skylark-domx-plugins-groups/carousel",["skylark-langx/langx","skylark-domx-browser","skylark-domx-eventer","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","./groups","./group","./_carousel/indicators","./_carousel/effect_slide"],function(t,e,s,i,n,o,l,a,r,d){"use strict";var h={slide:d},c=a.inherit({klassName:"Carousel",pluginName:"lark.groups.carousel",options:{classes:{display:"display",single:"single",leftEdge:"left",rightEdge:"right",cycling:"cycling",controls:"controls"},cycle:{interval:5e3,pause:"hover"},wrap:!0,keyboard:!0,controls:{selectors:{toggle:".toggle",prev:".prev",next:".next",close:".close",cycleStop:".cycle-stop"}},indicators:{indicator:{template:"<li/>",indexAttrName:"data-index"}},selectors:{itemsContainer:".items",indicatorsContainer:".indicators"},item:{selector:".item",classes:{base:"item"}},data:{},effect:"slide",startIndex:0,effects:{slide:{classes:{base:"slide"}},rotate:{classes:{base:"rotate"}},coverflow:{classes:{base:"coverflow"}}},onjumped:null,onjumping:null},_construct:function(e,i){a.prototype._construct.call(this,e,i),this.options.item.selectable=!0,this.options.item.multiSelect=!1,this._$elm=this.$(),this._$itemsContainer=this._$elm.find(this.options.selectors.itemsContainer);let n=this._$elm.find(this.options.selectors.indicatorsContainer);n.length>0&&(this._indicators=new r(n[0],t.mixin({carousel:this,active:0},this.options.indicators)),this._indicators.setActiveIndicator(0)),this.paused=null,this.moving=null,this.interval=null,this.$active=null,this.options.cycle.interval>0?this.cycle(!0):this.cycle(!1);this.options.keyboard&&this._$elm.on("keydown.lark.carousel",t.proxy(this.keydown,this)),"hover"==this.options.cycle.pause&&!("ontouchstart"in document.documentElement)&&this._$elm.on("mouseenter.lark.carousel",t=>{this.pause(!0)}).on("mouseleave.lark.carousel",t=>{this.pause(!1)}),this._$elm.find(this.options.controls.selectors.prev).on("click",t=>{this.prev(),s.stop(t)}),this._$elm.find(this.options.controls.selectors.next).on("click",t=>{this.next(),s.stop(t)}),this._$elm.find(this.options.controls.selectors.cycleStop).on("click",t=>{this.cycle(!this.cycled),s.stop(t)}),this._effect=new h[this.options.effect](this),this.options.data.items&&(this.addItems(this.options.data.items),this.jump(this.options.startIndex)),this.options.onjumped&&this.on("jumped",this.options.onjumped),this.options.onjumping&&this.on("jumping",this.options.onjumping)},keydown:function(t){if(!/input|textarea/i.test(t.target.tagName)){switch(t.which){case 37:this.prev();break;case 39:this.next();break;default:return}t.preventDefault()}},cycle:function(e){return t.isDefined(e)&&(this.cycled=!!e,this.cycled?this._velm.addClass(this.options.classes.cycling):this._velm.removeClass(this.options.classes.cycling)),this.interval&&clearInterval(this.interval),this.options.cycle.interval&&this.cycled&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.cycle.interval)),this},getItemForDirection:function(t,e){var s=this.getItemIndex(e),i="prev"==t&&0===s||"next"==t&&s==this._$items.length-1;if(i&&!this.options.wrap)return e;var n="prev"==t?-1:1,o=(s+n)%this._$items.length;return this._$items.eq(o)},jump:function(t){var e=this,s=this.getActiveItem(),i=s?this.getItemIndex(s):-1;if(!(t>this._$items.length-1||t<0))return this.moving?this._$elm.one("jumped.lark.carousel",function(){e.jump(t)}):i==t?this.pause().cycle():this._effect.jump(t>i?"next":"prev",this._$items.eq(t))},pause:function(e){return t.isUndefined(e)&&(e=!0),this.paused=!!e,this.cycle(),this},next:function(){if(!this.moving)return this._effect.jump("next")},prev:function(){if(!this.moving)return this._effect.jump("prev")},addItems:function(t){let e=this.getItemsCount();for(var s=0;s<t.length;s++)this.addItem(e++,t[s]);this.resetItems()},addItem:function(t,e){let s=this.renderItemHtml(e),n=this.options.item.classes.base,o=i(s);n&&o.addClass(n),this._$itemsContainer&&this._$itemsContainer.append(o),this._indicators&&this._indicators.addIndicator(t,e)}});return o.register(c),l.Carousel=c}),t("skylark-domx-plugins-groups/linear",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","skylark-domx-plugins-toggles/collapse","./groups","./group"],function(t,e,s,i,n,o,l){"use strict";var a=l.inherit({klassName:"Tiler",pluginName:"lark.groups.linear",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!1,template:'<ul class="clearfix repeater-linear" data-container="true" data-infinite="true" data-preserve="shallow"></ul>',item:{template:'<li class="repeater-item"><img  src="{{ThumbnailImage}}" class="thumb"/><h4 class="title">{{name}}</h4></div>'},viewClass:"repeater-linear",renderItem:null},_construct:function(s,i){this.overrided(s,i),this._renderItem=t.template(this.options.item.template);for(var n=0;n<i.items.length;n++){var o=this._renderItem(i.items[n]);this._velm.append(e(o))}}});return i.register(a),o.Linear=a}),t("skylark-domx-plugins-groups/slidable",["skylark-langx/langx","skylark-domx-browser","skylark-domx-noder","skylark-domx-styler","skylark-domx-eventer","skylark-domx-query","skylark-domx-plugins-base","skylark-devices-points/touch","./groups"],function(t,e,s,i,n,o,l,a,r){"use strict";var d=l.Plugin.inherit({klassName:"Slidable",pluginName:"lark.groups.slidable",options:{selectors:{slidesContainer:"div",titleElement:"h3",indicatorContainer:"ol"},classes:{displayClass:"lark-domx-slidable-display",singleClass:"lark-domx-slidable-single",leftEdgeClass:"lark-domx-slidable-left",rightEdgeClass:"lark-domx-slidable-right",playingClass:"lark-domx-slidable-playing",controlsClass:"lark-domx-slidable-controls",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",activeIndicatorClass:"active"},displayTransition:!0,clearSlides:!0,toggleControlsOnReturn:!0,toggleControlsOnSlideClick:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!1,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,hidePageScrollbars:!1,thumbnailIndicators:!0,onopen:t.noop,onopened:t.noop,onslide:t.noop,onslideend:t.noop,onslidecomplete:t.noop,onclose:t.noop,onclosed:t.noop},_construct:function(t,e){if(this.overrided(t,e),this._velm=this.elmx(),this.list=this.options.items,this.num=this.list.length,this.initStartIndex(),!1===this.initWidget())return!1;this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play()},createIndicator:function(t){this.gallery;var e,s,i=this.indicatorPrototype.cloneNode(!1),n=t.title;return this.options.thumbnailIndicators&&(void 0===(e=t.thumbnail)&&(s=t.getElementsByTagName&&o(t).find("img")[0])&&(e=s.src),e&&(i.style.backgroundImage='url("'+e+'")')),n&&(i.title=n),i},addIndicator:function(t){if(this.indicatorContainer.length){var e=this.createIndicator(this.list[t]);e.setAttribute("data-index",t),this.indicatorContainer[0].appendChild(e),this.indicators.push(e)}},setActiveIndicator:function(t){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.classes.activeIndicatorClass),this.activeIndicator=o(this.indicators[t]),this.activeIndicator.addClass(this.options.classes.activeIndicatorClass))},slide:function(t,e){window.clearTimeout(this.timeout);var s,i,n,o=this.index;if(o!==t&&1!==this.num){for(e||(e=this.options.transitionSpeed),this.options.continuous||(t=this.circle(t)),s=Math.abs(o-t)/(o-t),this.options.continuous&&(i=s,(s=-this.positions[this.circle(t)]/this.slideWidth)!==i&&(t=-s*this.num+t)),n=Math.abs(o-t)-1;n;)n-=1,this.move(this.circle((t>o?t:o)-n-1),this.slideWidth*s,0);t=this.circle(t),this.move(o,this.slideWidth*s,e),this.move(t,0,e),this.options.continuous&&this.move(this.circle(t-s),-this.slideWidth*s,0),this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(e){this.timeout&&(this.timeout.cancel(),this.timeout=null),this.interval=e||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=t.debounce(this.slide.bind(this),this.interval,!0)(this.index+1,this.options.slideshowTransitionSpeed)),this._velm.addClass(this.options.classes.playingClass)},pause:function(){this.timeout&&(this.timeout.cancel(),this.timeout=null),this.interval=null,this._velm.removeClass(this.options.classes.playingClass)},add:function(t){var e;for(t.concat||(t=Array.prototype.slice.call(t)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(t),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this._velm.removeClass(this.options.classes.leftEdgeClass)),this._velm.removeClass(this.options.classes.rightEdgeClass).removeClass(this.options.classes.singleClass),e=this.num-t.length;e<this.num;e+=1)this.addSlide(e),this.positionSlide(e);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[],this.indicatorContainer.empty(),this.indicators=[]},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.classes.activeIndicatorClass);var t=this.options;this.destroyEventListeners(),this.pause(),this._velm.hide(),this._velm.removeClass([t.displayClass,t.singleClass,t.leftEdgeClass,t.rightEdgeClass]),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var t=this;this.options.onclose&&this.options.onclose.call(this),this.options.displayTransition?(this._velm.on(e.support.transition.end,function s(i){i.target===t._elm&&(t._velm.off(e.support.transition.end,s),t.handleClose())}),this._velm.removeClass(this.options.classes.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,e,s){this.translateX(t,e,s),this.positions[t]=e},translate:function(t,e,s,n){var o=this.slides[t];i.css(o,"transitionDuration",n+"ms"),i.css(o,"transform","translate("+e+"px, "+s+"px) translateZ(0)")},translateX:function(t,e,s){this.translate(t,e,0,s)},translateY:function(t,e,s){this.translate(t,0,e,s)},onresize:function(){this.initSlides(!0)},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&"AUDIO"!==t.target.nodeName&&(t.preventDefault(),(t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(t){if(this.touchStart){var e=t.target,i=t.relatedTarget;i&&(i===e||s.contains(e,i))||this.onmouseup(t)}},ontouchstart:function(t){this.options.stopTouchEventsPropagation&&n.stop(t);var e=(t.originalEvent||t).touches[0];this.touchStart={x:e.pageX,y:e.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){this.options.stopTouchEventsPropagation&&n.stop(t);var e,s,i=(t.originalEvent||t).touches[0],o=(t.originalEvent||t).scale,l=this.index;if(!(i.length>1||o&&1!==o))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:i.pageX-this.touchStart.x,y:i.pageY-this.touchStart.y},e=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(e)<Math.abs(this.touchDelta.y)),this.isScrolling)this.translateY(l,this.touchDelta.y+this.positions[l],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?s=[this.circle(l+1),l,this.circle(l-1)]:(this.touchDelta.x=e/=!l&&e>0||l===this.num-1&&e<0?Math.abs(e)/this.slideWidth+1:1,s=[l],l&&s.push(l-1),l<this.num-1&&s.unshift(l+1));s.length;)l=s.pop(),this.translateX(l,e+this.positions[l],0)},ontouchend:function(t){this.options.stopTouchEventsPropagation&&n.stop(t);var e,s,i,o,l,a=this.index,r=this.options.transitionSpeed,d=this.slideWidth,h=Number(Date.now()-this.touchStart.time)<250,c=h&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>d/2,u=!a&&this.touchDelta.x>0||a===this.num-1&&this.touchDelta.x<0,p=!c&&this.options.closeOnSwipeUpOrDown&&(h&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(u=!1),e=this.touchDelta.x<0?-1:1,this.isScrolling?p?this.close():this.translateY(a,0,r):c&&!u?(s=a+e,i=a-e,o=d*e,l=-d*e,this.options.continuous?(this.move(this.circle(s),o,0),this.move(this.circle(a-2*e),l,0)):s>=0&&s<this.num&&this.move(s,o,0),this.move(a,this.positions[a]+o,r),this.move(this.circle(i),this.positions[this.circle(i)]+o,r),a=this.circle(i),this.onslide(a)):this.options.continuous?(this.move(this.circle(a-1),-d,r),this.move(a,0,r),this.move(this.circle(a+1),d,r)):(a&&this.move(a-1,-d,r),this.move(a,0,r),a<this.num-1&&this.move(a+1,d,r))},ontouchcancel:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},ontransitionend:function(e){var s=this.slides[this.index];e&&s!==e.target||(this.interval&&this.play(),t.defer(this.options.onslideend,[this.index,s]))},oncomplete:function(e){var s,i=e.target||e.srcElement,n=i&&i.parentNode;i&&n&&(s=this.getNodeIndex(n),o(n).removeClass(this.options.classes.slideLoadingClass),"error"===e.type?(o(n).addClass(this.options.classes.slideErrorClass),this.elements[s]=3):this.elements[s]=2,i.clientHeight>this._velm.clientHeight()&&(i.style.maxHeight=this._velm.clientHeight()),this.interval&&this.slides[this.index]===n&&this.play(),t.defer(this.options.onslidecomplete,[s,n]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnReturn&&(n.stop(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),t.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(n.stop(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(n.stop(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(n.stop(t),this.next())}},handleClick:function(t){var e=this.options,s=t.target||t.srcElement,i=s.parentNode;if(i===this.indicatorContainer[0])return n.stop(t),void this.slide(this.getNodeIndex(s));if(i.parentNode===this.indicatorContainer[0])return this.preventDefault(t),void this.slide(this.getNodeIndex(i));function l(t){return o(s).hasClass(t)||o(i).hasClass(t)}l(e.classes.toggleClass)?(n.stop(t),this.toggleControls()):l(e.classes.prevClass)?(n.stop(t),this.prev()):l(e.classes.nextClass)?(n.stop(t),this.next()):l(e.classes.closeClass)?(n.stop(t),this.close()):l(e.classes.playPauseClass)?(n.stop(t),this.toggleSlideshow()):i===this.slidesContainer[0]?e.closeOnSlideClick?(n.stop(t),this.close()):e.toggleControlsOnSlideClick&&(n.stop(t),this.toggleControls()):i.parentNode&&i.parentNode===this.slidesContainer[0]&&e.toggleControlsOnSlideClick&&(n.stop(t),this.toggleControls())},onclick:function(t){if(!(this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)))return this.handleClick(t);delete this.touchDelta},updateEdgeClasses:function(t){t?this._velm.removeClass(this.options.classes.leftEdgeClass):this._velm.addClass(this.options.classes.leftEdgeClass),t===this.num-1?this._velm.addClass(this.options.classes.rightEdgeClass):this._velm.removeClass(this.options.classes.rightEdgeClass)},handleSlide:function(t){this.options.continuous||this.updateEdgeClasses(t),this.loadElements(t),this.options.unloadElements&&this.unloadElements(t),this.setTitle(t),this.setActiveIndicator(t)},onslide:function(e){this.index=e,this.handleSlide(e),t.defer(this.options.onslide,[e,this.slides[e]])},setTitle:function(t){var e=this.slides[t].firstChild,s=e.title||e.alt,i=this.titleElement;i.length&&(this.titleElement.empty(),s&&i[0].appendChild(document.createTextNode(s)))},createElement:function(t,e){var s=this.options.renderItem(t,e);return o(s).addClass(this.options.classes.slideContentClass),s},loadElement:function(t){this.elements[t]||(this.slides[t].firstChild?this.elements[t]=o(this.slides[t]).hasClass(this.options.classes.slideErrorClass)?3:2:(this.elements[t]=1,o(this.slides[t]).addClass(this.options.classes.slideLoadingClass),this.slides[t].appendChild(this.createElement(this.list[t],this.proxyListener))))},loadElements:function(t){var e,s=Math.min(this.num,2*this.options.preloadRange+1),i=t;for(e=0;e<s;e+=1)i+=e*(e%2==0?-1:1),i=this.circle(i),this.loadElement(i)},unloadElements:function(t){var e,s;for(e in this.elements)this.elements.hasOwnProperty(e)&&(s=Math.abs(t-e))>this.options.preloadRange&&s+this.options.preloadRange<this.num&&(this.unloadSlide(e),delete this.elements[e])},addSlide:function(t){var e=this.slidePrototype.cloneNode(!1);e.setAttribute("data-index",t),this.slidesContainer[0].appendChild(e),this.slides.push(e),this.addIndicator(t)},positionSlide:function(t){var e=this.slides[t];i.css(e,{width:this.slideWidth+"px",left:t*-this.slideWidth+"px"}),this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0)},initSlides:function(t){var e,s;for(t||(this.indicatorContainer=this._velm.query(this.options.selectors.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),t||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),o(this.slidePrototype).addClass(this.options.classes.slideClass),this.slides=this.slidesContainer[0].children,e=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this._velm.clientWidth(),this.slideHeight=this._velm.clientHeight(),this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",e&&this.resetSlides(),s=0;s<this.num;s+=1)e&&this.addSlide(s),this.positionSlide(s);this.options.continuous&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0))},unloadSlide:function(t){var e,s;e=this.slides[t],null!==(s=e.firstChild)&&e.removeChild(s)},unloadAllSlides:function(){var t,e;for(t=0,e=this.slides.length;t<e;t++)this.unloadSlide(t)},toggleControls:function(){var t=this.options.classes.controlsClass;this._velm.hasClass(t)?this._velm.removeClass(t):this._velm.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},initStartIndex:function(){var t=this.options.index;this.index=this.circle(parseInt(t,10)||0)},initEventListeners:function(){var t=this,s=this.slidesContainer;function i(s){var i=e.support.transition.end===s.type?"transitionend":s.type;t["on"+i](s)}o(window).on("resize",i),o(document.body).on("keydown",i),this._velm.on("click",i),a.isTouchEnabled()?s.on("touchstart touchmove touchend touchcancel",i):this.options.emulateTouchEvents&&s.on("mousedown mousemove mouseup mouseout",i),s.on(e.support.transition.end,i),this.proxyListener=i},destroyEventListeners:function(){var t=this.slidesContainer,s=this.proxyListener;o(window).off("resize",s),o(document.body).off("keydown",s),this._velm.off("click",s),a.isTouchEnabled()?t.off("touchstart touchmove touchend touchcancel",s):this.options.emulateTouchEvents&&t.off("mousedown mousemove mouseup mouseout",s),t.off(e.support.transition.end,s)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var t=this;if(this.slidesContainer=this._velm.query(this.options.selectors.slidesContainer).first(),!this.slidesContainer.length)return!1;this.titleElement=this._velm.query(this.options.selectors.titleElement).first(),1===this.num&&this._velm.addClass(this.options.classes.singleClass),this.options.onopen&&this.options.onopen.call(this),this.options.displayTransition?this._velm.on(e.support.transition.end,function s(i){i.target===t._elm&&(t._velm.off(e.support.transition.end,s),t.handleOpen())}):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this._velm.show(),this.initSlides(),this._velm.addClass(this.options.classes.displayClass)}});return l.register(d),r.Slidable=d}),t("skylark-domx-plugins-dnd/draggable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins-base","./dnd","./manager"],function(t,e,s,i,n,o,l,a,r,d){o.on,o.off,s.attr,s.removeAttr,n.pagePosition,l.addClass,n.height;var h=a.Plugin.inherit({klassName:"Draggable",pluginName:"lark.dnd.draggable",options:{draggingClass:"dragging"},_construct:function(e,n){this.overrided(e,n);var l=this,n=this.options;l.draggingClass=n.draggingClass,["preparing","started","ended","moving"].forEach(function(e){t.isFunction(n[e])&&l.on(e,n[e])}),o.on(e,{mousedown:function(t){var e=l.options;e.handle&&(l.dragHandle=i.closest(t.target,e.handle),!l.dragHandle)||(e.source?l.dragSource=i.closest(t.target,e.source):l.dragSource=l._elm,d.prepare(l),l.dragSource&&s.attr(l.dragSource,"draggable","true"))},mouseup:function(t){l.dragSource&&(l.dragSource=null,l.dragHandle=null)},dragstart:function(t){s.attr(l.dragSource,"draggable","false"),d.start(l,t)},dragend:function(t){o.stop(t),d.dragging&&d.end(!1)}})}});return a.register(h,"draggable"),r.Draggable=h}),t("skylark-domx-plugins-dnd/droppable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins-base","./dnd","./manager"],function(t,e,s,i,n,o,l,a,r,d){o.on,o.off,s.attr,s.removeAttr,n.pagePosition,l.addClass,n.height;var h=a.Plugin.inherit({klassName:"Droppable",pluginName:"lark.dnd.droppable",options:{draggingClass:"dragging"},_construct:function(e,s){this.overrided(e,s);var i,n,a=this,s=a.options,r=(s.draggingClass,!0);["started","entered","leaved","dropped","overing"].forEach(function(e){t.isFunction(s[e])&&a.on(e,s[e])}),o.on(e,{dragover:function(t){if(t.stopPropagation(),r){var e=o.create("overing",{overElm:t.target,transfer:d.draggingTransfer,acceptable:!0});a.trigger(e),e.acceptable&&(t.preventDefault(),t.dataTransfer.dropEffect="copyMove")}},dragenter:function(t){a.options;var e=a._elm,s=o.create("entered",{transfer:d.draggingTransfer});a.trigger(s),t.stopPropagation(),i&&r&&l.addClass(e,i)},dragleave:function(t){a.options;var e=a._elm;if(!r)return!1;var s=o.create("leaved",{transfer:d.draggingTransfer});a.trigger(s),t.stopPropagation(),i&&r&&l.removeClass(e,i)},drop:function(t){a.options;var e=a._elm;if(o.stop(t),d.dragging){i&&r&&l.addClass(e,i);var s=o.create("dropped",{transfer:d.draggingTransfer});a.trigger(s),d.end(!0)}}}),d.on("dndStarted",function(t){var s=o.create("started",{transfer:d.draggingTransfer,acceptable:!1});a.trigger(s),r=s.acceptable,i=s.hoverClass,(n=s.activeClass)&&r&&l.addClass(e,n)}).on("dndEnded",function(t){var s=o.create("ended",{transfer:d.draggingTransfer,acceptable:!1});a.trigger(s),i&&r&&l.removeClass(e,i),n&&r&&l.removeClass(e,n),r=!1,n=null,i=null})}});return a.register(h,"droppable"),r.Droppable=h}),t("skylark-domx-plugins-groups/sortable",["./groups","skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-query","skylark-domx-plugins-base","skylark-domx-plugins-dnd/draggable","skylark-domx-plugins-dnd/droppable"],function(t,e,s,i,n,o,l,a,r,d,h){"use strict";o.on,o.off,i.attr,i.removeAttr,n.pagePosition,l.addClass,n.height,Array.prototype.some,Array.prototype.map,r.Plugin.inherit({klassName:"Sorter",enable:function(){},disable:function(){},destory:function(){}});var c,u=a(),p=r.Plugin.inherit({klassName:"Sortable",pluginName:"lark.groups.sortable",options:{connectWith:!1,placeholder:null,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",items:null},_construct:function(t,e){this.overrided(t,e),e=this.options;var i,n=a(t),o=n.children(e.items),l=a(e.placeholder||s.createElement(/^(ul|ol)$/i.test(t.tagName)?"li":"div",{class:e.placeholderClass}));d(t,{source:e.items,handle:e.handle,draggingClass:e.draggingClass,preparing:function(t){},started:function(t){t.ghost=t.dragSource,t.transfer={text:"dummy"},i=(c=a(t.dragSource)).index()},ended:function(t){c&&(c.show(),u.detach(),i!=c.index()&&c.parent().trigger("sortupdate",{item:c}),c=null)}}),h(t,{started:function(t){t.acceptable=!0,t.activeClass="active",t.hoverClass="over"},overing:function(t){o.is(t.overElm)?(e.forcePlaceholderSize&&l.height(c.outerHeight()),c.hide(),a(t.overElm)[l.index()<a(t.overElm).index()?"after":"before"](l),u.not(l).detach()):u.is(t.overElm)||a(t.overElm).children(e.items).length||(u.detach(),a(t.overElm).append(l))},dropped:function(t){u.filter(":visible").after(c),c.show(),u.detach(),c=null}}),n.data("items",e.items),u=u.add(l),e.connectWith&&a(e.connectWith).add(this).data("connectWith",e.connectWith)}});return r.register(p,"sortable"),t.Sortable=p}),t("skylark-domx-plugins-groups/tiler",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","./groups","./group"],function(t,e,s,i,n,o){"use strict";var l=o.inherit({klassName:"Tiler",pluginName:"lark.groups.tiler",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!1,viewClass:"repeater-tile",template:'<div class="clearfix repeater-tile" data-container="true" data-infinite="true" data-preserve="shallow"></div>',item:{template:'<div class="thumbnail"><img height="75" src="<%= href %>" width="65"><span><%= title %></span></div>',selectable:!0},renderItem:null},_construct:function(s,i){this.overrided(s,i),this._renderItem=t.template(this.options.item.template);for(var n=0;n<i.items.length;n++){var o=this._renderItem(i.items[n]);this._velm.append(e(o))}}});return i.register(l),n.Tiler=l}),t("skylark-domx-plugins-groups/tree",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-lists","skylark-domx-plugins-base","./groups","./group","skylark-domx-plugins-toggles/collapse"],function(t,e,s,i,n,o,l){"use strict";var a=l.inherit({klassName:"Tree",pluginName:"lark.groups.tree",_construct:function(e,s){this.overrided(e,s),i.multitier(e,t.mixin({hide:function(t){t.plugin("lark.toggles.collapse").hide()},toggle:function(t){t.plugin("lark.toggles.collapse").toggle()}},this.options))}});return n.register(a),o.Tree=a}),t("skylark-domx-plugins-groups/main",["./groups","./group","./carousel","./linear","./slidable","./sortable","./tiler","./tree"],function(t){return t}),t("skylark-domx-plugins-groups",["skylark-domx-plugins-groups/main"],function(t){return t})}(s),!i){var l=require("skylark-langx-ns");n?module.exports=l:e.skylarkjs=l}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-plugins-groups.js.map

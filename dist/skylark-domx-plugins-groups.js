/**
 * skylark-domx-plugins-groups - The skylark list plugin library.
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-domx/skylark-domx-plugins-groups/
 * @license MIT
 */
!function(t,s){var e=s.define,require=s.require,i="function"==typeof e&&e.amd,o=!i&&"undefined"!=typeof exports;if(!i&&!e){var n={};e=s.define=function(t,s,e){"function"==typeof e?(n[t]={factory:e,deps:s.map(function(s){return function(t,s){if("."!==t[0])return t;var e=s.split("/"),i=t.split("/");e.pop();for(var o=0;o<i.length;o++)"."!=i[o]&&(".."==i[o]?e.pop():e.push(i[o]));return e.join("/")}(s,t)}),resolved:!1,exports:null},require(t)):n[t]={factory:null,resolved:!0,exports:e}},require=s.require=function(t){if(!n.hasOwnProperty(t))throw new Error("Module "+t+" has not been defined");var module=n[t];if(!module.resolved){var e=[];module.deps.forEach(function(t){e.push(require(t))}),module.exports=module.factory.apply(s,e)||null,module.resolved=!0}return module.exports}}if(!e)throw new Error("The module utility (ex: requirejs or skylark-utils) is not loaded!");if(function(t,require){t("skylark-domx-plugins-groups/groups",["skylark-langx/skylark"],function(t){return t.attach("domx.plugins.groups",{})}),t("skylark-domx-plugins-groups/group",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","./groups"],function(t,s,e,i,o){var n=i.Plugin.inherit({klassName:"Group",pluginName:"lark.groups.group",options:{classes:{},selectors:{item:"li"},item:{template:'<span><i class="glyphicon"></i><a href="javascript: void(0);"></a> </span>',selectable:!0,multiSelect:!1,classes:{selected:"active"},selectors:{icon:" > span > i",text:" > span > a"}},selected:0},selected:null,_construct:function(t,s){this.overrided(t,s);var i=this,o=this._velm=e(this._elm),n=this.options.selectors.item;this._$items=o.$(n),o.on("click",n,function(){var t=e(this);if(i.options.item.selectable&&!t.hasClass("disabled")){let t=i.getItemValue(this);i.options.item.multiSelect?i.toggleSelectOneItem(t):(i.clearSelectedItems(),i.selectOneItem(t))}return!1}),this.options.item.multiSelect?this.selected=[]:this.selected=null},findItem:function(s){return t.isNumber(s)?this._$items.eq(s):this._$items.filter('[data-value="'+s+'"]')},getItemValue:function(t){let e=s(t),i=e.data("value");return void 0===i&&(i=this._$items.index(e[0])),i},isSelected:function(t){return this.findItem(t).hasClass(this.options.item.classes.selected)},selectOneItem:function(t){this.findItem(t).addClass(this.options.item.classes.selected)},unselectOneItem:function(t){this.findItem(t).removeClass(this.options.item.classes.selected)},clearSelectedItems:function(){let t=this.options.item.classes.selected;this._$items.filter(`.${t}`).removeClass(t)},getSelectedItems:function(){return this._$items.filter(`.${selectedClass}`).map(t=>this.getItemValue(t))},toggleSelectOneItem:function(t){this.isSelected(t)?this.unselectOneItem(t):this.selectOneItem(t)}});return i.register(n),o.Group=n}),t("skylark-domx-plugins-groups/linear",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","skylark-domx-plugins-toggles/collapse","./groups","./group"],function(t,s,e,i,o,n,l){var a=l.inherit({klassName:"Tiler",pluginName:"lark.groups.tiler",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!1,template:'<ul class="clearfix repeater-linear" data-container="true" data-infinite="true" data-preserve="shallow"></ul>',item:{template:'<li class="repeater-item"><img  src="{{ThumbnailImage}}" class="thumb"/><h4 class="title">{{name}}</h4></div>'},viewClass:"repeater-linear",renderItem:null},_construct:function(e,i){this.overrided(e,i),this._renderItem=t.template(this.options.item.template);for(var o=0;o<i.items.length;o++){var n=this._renderItem(i.items[o]);this._velm.append(s(n))}}});return i.register(a),n.Linear=a}),t("skylark-domx-plugins-groups/slidable",["skylark-langx/langx","skylark-domx-browser","skylark-domx-noder","skylark-domx-styler","skylark-domx-eventer","skylark-domx-query","skylark-domx-plugins-base","skylark-devices-points/touch","./groups"],function(t,s,e,i,o,n,l,a,r){"use strict";var d=l.Plugin.inherit({klassName:"Slidable",pluginName:"lark.groups.slidable",options:{selectors:{slidesContainer:"div",titleElement:"h3",indicatorContainer:"ol"},classes:{displayClass:"lark-domx-slidable-display",singleClass:"lark-domx-slidable-single",leftEdgeClass:"lark-domx-slidable-left",rightEdgeClass:"lark-domx-slidable-right",playingClass:"lark-domx-slidable-playing",controlsClass:"lark-domx-slidable-controls",slideClass:"slide",slideLoadingClass:"slide-loading",slideErrorClass:"slide-error",slideContentClass:"slide-content",toggleClass:"toggle",prevClass:"prev",nextClass:"next",closeClass:"close",playPauseClass:"play-pause",activeIndicatorClass:"active"},displayTransition:!0,clearSlides:!0,toggleControlsOnReturn:!0,toggleControlsOnSlideClick:!0,toggleSlideshowOnSpace:!0,enableKeyboardNavigation:!0,closeOnEscape:!1,closeOnSlideClick:!1,closeOnSwipeUpOrDown:!1,emulateTouchEvents:!0,stopTouchEventsPropagation:!1,hidePageScrollbars:!1,disableScroll:!0,carousel:!1,continuous:!0,unloadElements:!0,startSlideshow:!1,slideshowInterval:5e3,index:0,preloadRange:2,transitionSpeed:400,slideshowTransitionSpeed:void 0,hidePageScrollbars:!1,thumbnailIndicators:!0,onopen:void 0,onopened:void 0,onslide:void 0,onslideend:void 0,onslidecomplete:void 0,onclose:void 0,onclosed:void 0},_construct:function(t,s){if(this.overrided(t,s),this._velm=this.elmx(),this.list=this.options.items,this.num=this.list.length,this.initStartIndex(),!1===this.initWidget())return!1;this.initEventListeners(),this.onslide(this.index),this.ontransitionend(),this.options.startSlideshow&&this.play()},createIndicator:function(t){this.gallery;var s,e,i=this.indicatorPrototype.cloneNode(!1),o=t.title;return this.options.thumbnailIndicators&&(void 0===(s=t.thumbnail)&&(e=t.getElementsByTagName&&n(t).find("img")[0])&&(s=e.src),s&&(i.style.backgroundImage='url("'+s+'")')),o&&(i.title=o),i},addIndicator:function(t){if(this.indicatorContainer.length){var s=this.createIndicator(this.list[t]);s.setAttribute("data-index",t),this.indicatorContainer[0].appendChild(s),this.indicators.push(s)}},setActiveIndicator:function(t){this.indicators&&(this.activeIndicator&&this.activeIndicator.removeClass(this.options.classes.activeIndicatorClass),this.activeIndicator=n(this.indicators[t]),this.activeIndicator.addClass(this.options.classes.activeIndicatorClass))},slide:function(t,s){window.clearTimeout(this.timeout);var e,i,o,n=this.index;if(n!==t&&1!==this.num){for(s||(s=this.options.transitionSpeed),this.options.continuous||(t=this.circle(t)),e=Math.abs(n-t)/(n-t),this.options.continuous&&(i=e,(e=-this.positions[this.circle(t)]/this.slideWidth)!==i&&(t=-e*this.num+t)),o=Math.abs(n-t)-1;o;)o-=1,this.move(this.circle((t>n?t:n)-o-1),this.slideWidth*e,0);t=this.circle(t),this.move(n,this.slideWidth*e,s),this.move(t,0,s),this.options.continuous&&this.move(this.circle(t-e),-this.slideWidth*e,0),this.onslide(t)}},getIndex:function(){return this.index},getNumber:function(){return this.num},prev:function(){(this.options.continuous||this.index)&&this.slide(this.index-1)},next:function(){(this.options.continuous||this.index<this.num-1)&&this.slide(this.index+1)},play:function(s){this.timeout&&(this.timeout.stop(),this.timeout=null),this.interval=s||this.options.slideshowInterval,this.elements[this.index]>1&&(this.timeout=t.debounce(this.slide.bind(this),this.interval,!0)(this.index+1,this.options.slideshowTransitionSpeed)),this._velm.addClass(this.options.classes.playingClass)},pause:function(){this.timeout&&(this.timeout.stop(),this.timeout=null),this.interval=null,this._velm.removeClass(this.options.classes.playingClass)},add:function(t){var s;for(t.concat||(t=Array.prototype.slice.call(t)),this.list.concat||(this.list=Array.prototype.slice.call(this.list)),this.list=this.list.concat(t),this.num=this.list.length,this.num>2&&null===this.options.continuous&&(this.options.continuous=!0,this._velm.removeClass(this.options.classes.leftEdgeClass)),this._velm.removeClass(this.options.classes.rightEdgeClass).removeClass(this.options.classes.singleClass),s=this.num-t.length;s<this.num;s+=1)this.addSlide(s),this.positionSlide(s);this.positions.length=this.num,this.initSlides(!0)},resetSlides:function(){this.slidesContainer.empty(),this.unloadAllSlides(),this.slides=[],this.indicatorContainer.empty(),this.indicators=[]},handleClose:function(){this.activeIndicator&&this.activeIndicator.removeClass(this.options.classes.activeIndicatorClass);var t=this.options;this.destroyEventListeners(),this.pause(),this._velm.hide(),this._velm.removeClass([t.displayClass,t.singleClass,t.leftEdgeClass,t.rightEdgeClass]),t.hidePageScrollbars&&(document.body.style.overflow=this.bodyOverflowStyle),this.options.clearSlides&&this.resetSlides(),this.options.onclosed&&this.options.onclosed.call(this)},close:function(){var t=this;this.options.onclose&&this.options.onclose.call(this),this.options.displayTransition?(this._velm.on(s.support.transition.end,function e(i){i.target===t._elm&&(t._velm.off(s.support.transition.end,e),t.handleClose())}),this._velm.removeClass(this.options.classes.displayClass)):this.handleClose()},circle:function(t){return(this.num+t%this.num)%this.num},move:function(t,s,e){this.translateX(t,s,e),this.positions[t]=s},translate:function(t,s,e,o){var n=this.slides[t];i.css(n,"transitionDuration",o+"ms"),i.css(n,"transform","translate("+s+"px, "+e+"px) translateZ(0)")},translateX:function(t,s,e){this.translate(t,s,0,e)},translateY:function(t,s,e){this.translate(t,0,s,e)},onresize:function(){this.initSlides(!0)},onmousedown:function(t){t.which&&1===t.which&&"VIDEO"!==t.target.nodeName&&"AUDIO"!==t.target.nodeName&&(t.preventDefault(),(t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchstart(t))},onmousemove:function(t){this.touchStart&&((t.originalEvent||t).touches=[{pageX:t.pageX,pageY:t.pageY}],this.ontouchmove(t))},onmouseup:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},onmouseout:function(t){if(this.touchStart){var s=t.target,i=t.relatedTarget;i&&(i===s||e.contains(s,i))||this.onmouseup(t)}},ontouchstart:function(t){this.options.stopTouchEventsPropagation&&o.stop(t);var s=(t.originalEvent||t).touches[0];this.touchStart={x:s.pageX,y:s.pageY,time:Date.now()},this.isScrolling=void 0,this.touchDelta={}},ontouchmove:function(t){this.options.stopTouchEventsPropagation&&o.stop(t);var s,e,i=(t.originalEvent||t).touches[0],n=(t.originalEvent||t).scale,l=this.index;if(!(i.length>1||n&&1!==n))if(this.options.disableScroll&&t.preventDefault(),this.touchDelta={x:i.pageX-this.touchStart.x,y:i.pageY-this.touchStart.y},s=this.touchDelta.x,void 0===this.isScrolling&&(this.isScrolling=this.isScrolling||Math.abs(s)<Math.abs(this.touchDelta.y)),this.isScrolling)this.translateY(l,this.touchDelta.y+this.positions[l],0);else for(t.preventDefault(),window.clearTimeout(this.timeout),this.options.continuous?e=[this.circle(l+1),l,this.circle(l-1)]:(this.touchDelta.x=s/=!l&&s>0||l===this.num-1&&s<0?Math.abs(s)/this.slideWidth+1:1,e=[l],l&&e.push(l-1),l<this.num-1&&e.unshift(l+1));e.length;)l=e.pop(),this.translateX(l,s+this.positions[l],0)},ontouchend:function(t){this.options.stopTouchEventsPropagation&&o.stop(t);var s,e,i,n,l,a=this.index,r=this.options.transitionSpeed,d=this.slideWidth,h=Number(Date.now()-this.touchStart.time)<250,c=h&&Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.x)>d/2,u=!a&&this.touchDelta.x>0||a===this.num-1&&this.touchDelta.x<0,p=!c&&this.options.closeOnSwipeUpOrDown&&(h&&Math.abs(this.touchDelta.y)>20||Math.abs(this.touchDelta.y)>this.slideHeight/2);this.options.continuous&&(u=!1),s=this.touchDelta.x<0?-1:1,this.isScrolling?p?this.close():this.translateY(a,0,r):c&&!u?(e=a+s,i=a-s,n=d*s,l=-d*s,this.options.continuous?(this.move(this.circle(e),n,0),this.move(this.circle(a-2*s),l,0)):e>=0&&e<this.num&&this.move(e,n,0),this.move(a,this.positions[a]+n,r),this.move(this.circle(i),this.positions[this.circle(i)]+n,r),a=this.circle(i),this.onslide(a)):this.options.continuous?(this.move(this.circle(a-1),-d,r),this.move(a,0,r),this.move(this.circle(a+1),d,r)):(a&&this.move(a-1,-d,r),this.move(a,0,r),a<this.num-1&&this.move(a+1,d,r))},ontouchcancel:function(t){this.touchStart&&(this.ontouchend(t),delete this.touchStart)},ontransitionend:function(s){var e=this.slides[this.index];s&&e!==s.target||(this.interval&&this.play(),t.defer(this.options.onslideend,[this.index,e]))},oncomplete:function(s){var e,i=s.target||s.srcElement,o=i&&i.parentNode;i&&o&&(e=this.getNodeIndex(o),n(o).removeClass(this.options.classes.slideLoadingClass),"error"===s.type?(n(o).addClass(this.options.classes.slideErrorClass),this.elements[e]=3):this.elements[e]=2,i.clientHeight>this._velm.clientHeight()&&(i.style.maxHeight=this._velm.clientHeight()),this.interval&&this.slides[this.index]===o&&this.play(),t.defer(this.options.onslidecomplete,[e,o]))},onload:function(t){this.oncomplete(t)},onerror:function(t){this.oncomplete(t)},onkeydown:function(t){switch(t.which||t.keyCode){case 13:this.options.toggleControlsOnReturn&&(o.stop(t),this.toggleControls());break;case 27:this.options.closeOnEscape&&(this.close(),t.stopImmediatePropagation());break;case 32:this.options.toggleSlideshowOnSpace&&(o.stop(t),this.toggleSlideshow());break;case 37:this.options.enableKeyboardNavigation&&(o.stop(t),this.prev());break;case 39:this.options.enableKeyboardNavigation&&(o.stop(t),this.next())}},handleClick:function(t){var s=this.options,e=t.target||t.srcElement,i=e.parentNode;if(i===this.indicatorContainer[0])return o.stop(t),void this.slide(this.getNodeIndex(e));if(i.parentNode===this.indicatorContainer[0])return this.preventDefault(t),void this.slide(this.getNodeIndex(i));function l(t){return n(e).hasClass(t)||n(i).hasClass(t)}l(s.classes.toggleClass)?(o.stop(t),this.toggleControls()):l(s.classes.prevClass)?(o.stop(t),this.prev()):l(s.classes.nextClass)?(o.stop(t),this.next()):l(s.classes.closeClass)?(o.stop(t),this.close()):l(s.classes.playPauseClass)?(o.stop(t),this.toggleSlideshow()):i===this.slidesContainer[0]?s.closeOnSlideClick?(o.stop(t),this.close()):s.toggleControlsOnSlideClick&&(o.stop(t),this.toggleControls()):i.parentNode&&i.parentNode===this.slidesContainer[0]&&s.toggleControlsOnSlideClick&&(o.stop(t),this.toggleControls())},onclick:function(t){if(!(this.options.emulateTouchEvents&&this.touchDelta&&(Math.abs(this.touchDelta.x)>20||Math.abs(this.touchDelta.y)>20)))return this.handleClick(t);delete this.touchDelta},updateEdgeClasses:function(t){t?this._velm.removeClass(this.options.classes.leftEdgeClass):this._velm.addClass(this.options.classes.leftEdgeClass),t===this.num-1?this._velm.addClass(this.options.classes.rightEdgeClass):this._velm.removeClass(this.options.classes.rightEdgeClass)},handleSlide:function(t){this.options.continuous||this.updateEdgeClasses(t),this.loadElements(t),this.options.unloadElements&&this.unloadElements(t),this.setTitle(t),this.setActiveIndicator(t)},onslide:function(s){this.index=s,this.handleSlide(s),t.defer(this.options.onslide,[s,this.slides[s]])},setTitle:function(t){var s=this.slides[t].firstChild,e=s.title||s.alt,i=this.titleElement;i.length&&(this.titleElement.empty(),e&&i[0].appendChild(document.createTextNode(e)))},createElement:function(t,s){var e=this.options.renderItem(t,s);return n(e).addClass(this.options.classes.slideContentClass),e},loadElement:function(t){this.elements[t]||(this.slides[t].firstChild?this.elements[t]=n(this.slides[t]).hasClass(this.options.classes.slideErrorClass)?3:2:(this.elements[t]=1,n(this.slides[t]).addClass(this.options.classes.slideLoadingClass),this.slides[t].appendChild(this.createElement(this.list[t],this.proxyListener))))},loadElements:function(t){var s,e=Math.min(this.num,2*this.options.preloadRange+1),i=t;for(s=0;s<e;s+=1)i+=s*(s%2==0?-1:1),i=this.circle(i),this.loadElement(i)},unloadElements:function(t){var s,e;for(s in this.elements)this.elements.hasOwnProperty(s)&&(e=Math.abs(t-s))>this.options.preloadRange&&e+this.options.preloadRange<this.num&&(this.unloadSlide(s),delete this.elements[s])},addSlide:function(t){var s=this.slidePrototype.cloneNode(!1);s.setAttribute("data-index",t),this.slidesContainer[0].appendChild(s),this.slides.push(s),this.addIndicator(t)},positionSlide:function(t){var s=this.slides[t];i.css(s,{width:this.slideWidth+"px",left:t*-this.slideWidth+"px"}),this.move(t,this.index>t?-this.slideWidth:this.index<t?this.slideWidth:0,0)},initSlides:function(t){var s,e;for(t||(this.indicatorContainer=this._velm.query(this.options.selectors.indicatorContainer),this.indicatorContainer.length&&(this.indicatorPrototype=document.createElement("li"),this.indicators=this.indicatorContainer[0].children)),t||(this.positions=[],this.positions.length=this.num,this.elements={},this.imagePrototype=document.createElement("img"),this.elementPrototype=document.createElement("div"),this.slidePrototype=document.createElement("div"),n(this.slidePrototype).addClass(this.options.classes.slideClass),this.slides=this.slidesContainer[0].children,s=this.options.clearSlides||this.slides.length!==this.num),this.slideWidth=this._velm.clientWidth(),this.slideHeight=this._velm.clientHeight(),this.slidesContainer[0].style.width=this.num*this.slideWidth+"px",s&&this.resetSlides(),e=0;e<this.num;e+=1)s&&this.addSlide(e),this.positionSlide(e);this.options.continuous&&(this.move(this.circle(this.index-1),-this.slideWidth,0),this.move(this.circle(this.index+1),this.slideWidth,0))},unloadSlide:function(t){var s,e;s=this.slides[t],null!==(e=s.firstChild)&&s.removeChild(e)},unloadAllSlides:function(){var t,s;for(t=0,s=this.slides.length;t<s;t++)this.unloadSlide(t)},toggleControls:function(){var t=this.options.classes.controlsClass;this._velm.hasClass(t)?this._velm.removeClass(t):this._velm.addClass(t)},toggleSlideshow:function(){this.interval?this.pause():this.play()},getNodeIndex:function(t){return parseInt(t.getAttribute("data-index"),10)},initStartIndex:function(){var t=this.options.index;this.index=this.circle(parseInt(t,10)||0)},initEventListeners:function(){var t=this,e=this.slidesContainer;function i(e){var i=s.support.transition.end===e.type?"transitionend":e.type;t["on"+i](e)}n(window).on("resize",i),n(document.body).on("keydown",i),this._velm.on("click",i),a.isTouchEnabled()?e.on("touchstart touchmove touchend touchcancel",i):this.options.emulateTouchEvents&&e.on("mousedown mousemove mouseup mouseout",i),e.on(s.support.transition.end,i),this.proxyListener=i},destroyEventListeners:function(){var t=this.slidesContainer,e=this.proxyListener;n(window).off("resize",e),n(document.body).off("keydown",e),this._velm.off("click",e),a.isTouchEnabled()?t.off("touchstart touchmove touchend touchcancel",e):this.options.emulateTouchEvents&&t.off("mousedown mousemove mouseup mouseout",e),t.off(s.support.transition.end,e)},handleOpen:function(){this.options.onopened&&this.options.onopened.call(this)},initWidget:function(){var t=this;if(this.slidesContainer=this._velm.query(this.options.selectors.slidesContainer).first(),!this.slidesContainer.length)return!1;this.titleElement=this._velm.query(this.options.selectors.titleElement).first(),1===this.num&&this._velm.addClass(this.options.classes.singleClass),this.options.onopen&&this.options.onopen.call(this),this.options.displayTransition?this._velm.on(s.support.transition.end,function e(i){i.target===t._elm&&(t._velm.off(s.support.transition.end,e),t.handleOpen())}):this.handleOpen(),this.options.hidePageScrollbars&&(this.bodyOverflowStyle=document.body.style.overflow,document.body.style.overflow="hidden"),this._velm.show(),this.initSlides(),this._velm.addClass(this.options.classes.displayClass)}});return l.register(d),r.Slidable=d}),t("skylark-domx-plugins-dnd/draggable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins-base","./dnd","./manager"],function(t,s,e,i,o,n,l,a,r,d){n.on,n.off,e.attr,e.removeAttr,o.pagePosition,l.addClass,o.height;var h=a.Plugin.inherit({klassName:"Draggable",pluginName:"lark.draggable",options:{draggingClass:"dragging"},_construct:function(s,o){this.overrided(s,o);var l=this,o=this.options;l.draggingClass=o.draggingClass,["preparing","started","ended","moving"].forEach(function(s){t.isFunction(o[s])&&l.on(s,o[s])}),n.on(s,{mousedown:function(t){var s=l.options;s.handle&&(l.dragHandle=i.closest(t.target,s.handle),!l.dragHandle)||(s.source?l.dragSource=i.closest(t.target,s.source):l.dragSource=l._elm,d.prepare(l),l.dragSource&&e.attr(l.dragSource,"draggable","true"))},mouseup:function(t){l.dragSource&&(l.dragSource=null,l.dragHandle=null)},dragstart:function(t){e.attr(l.dragSource,"draggable","false"),d.start(l,t)},dragend:function(t){n.stop(t),d.dragging&&d.end(!1)}})}});return a.register(h,"draggable"),r.Draggable=h}),t("skylark-domx-plugins-dnd/droppable",["skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-finder","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-plugins-base","./dnd","./manager"],function(t,s,e,i,o,n,l,a,r,d){n.on,n.off,e.attr,e.removeAttr,o.pagePosition,l.addClass,o.height;var h=a.Plugin.inherit({klassName:"Droppable",pluginName:"lark.droppable",options:{draggingClass:"dragging"},_construct:function(s,e){this.overrided(s,e);var i,o,a=this,e=a.options,r=(e.draggingClass,!0);["started","entered","leaved","dropped","overing"].forEach(function(s){t.isFunction(e[s])&&a.on(s,e[s])}),n.on(s,{dragover:function(t){if(t.stopPropagation(),r){var s=n.create("overing",{overElm:t.target,transfer:d.draggingTransfer,acceptable:!0});a.trigger(s),s.acceptable&&(t.preventDefault(),t.dataTransfer.dropEffect="copyMove")}},dragenter:function(t){a.options;var s=a._elm,e=n.create("entered",{transfer:d.draggingTransfer});a.trigger(e),t.stopPropagation(),i&&r&&l.addClass(s,i)},dragleave:function(t){a.options;var s=a._elm;if(!r)return!1;var e=n.create("leaved",{transfer:d.draggingTransfer});a.trigger(e),t.stopPropagation(),i&&r&&l.removeClass(s,i)},drop:function(t){a.options;var s=a._elm;if(n.stop(t),d.dragging){i&&r&&l.addClass(s,i);var e=n.create("dropped",{transfer:d.draggingTransfer});a.trigger(e),d.end(!0)}}}),d.on("dndStarted",function(t){var e=n.create("started",{transfer:d.draggingTransfer,acceptable:!1});a.trigger(e),r=e.acceptable,i=e.hoverClass,(o=e.activeClass)&&r&&l.addClass(s,o)}).on("dndEnded",function(t){var e=n.create("ended",{transfer:d.draggingTransfer,acceptable:!1});a.trigger(e),i&&r&&l.removeClass(s,i),o&&r&&l.removeClass(s,o),r=!1,o=null,i=null})}});return a.register(h,"droppable"),r.Droppable=h}),t("skylark-domx-plugins-groups/sortable",["./groups","skylark-langx/langx","skylark-domx-noder","skylark-domx-data","skylark-domx-geom","skylark-domx-eventer","skylark-domx-styler","skylark-domx-query","skylark-domx-plugins-base","skylark-domx-plugins-dnd/draggable","skylark-domx-plugins-dnd/droppable"],function(t,s,e,i,o,n,l,a,r,d,h){n.on,n.off,i.attr,i.removeAttr,o.pagePosition,l.addClass,o.height,Array.prototype.some,Array.prototype.map,r.Plugin.inherit({klassName:"Sorter",enable:function(){},disable:function(){},destory:function(){}});var c,u=a(),p=r.Plugin.inherit({klassName:"Sortable",pluginName:"lark.groups.sortable",options:{connectWith:!1,placeholder:null,placeholderClass:"sortable-placeholder",draggingClass:"sortable-dragging",items:null},_construct:function(t,s){this.overrided(t,s),s=this.options;var i,o=a(t),n=o.children(s.items),l=a(s.placeholder||e.createElement(/^(ul|ol)$/i.test(t.tagName)?"li":"div",{class:s.placeholderClass}));d(t,{source:s.items,handle:s.handle,draggingClass:s.draggingClass,preparing:function(t){},started:function(t){t.ghost=t.dragSource,t.transfer={text:"dummy"},i=(c=a(t.dragSource)).index()},ended:function(t){c&&(c.show(),u.detach(),i!=c.index()&&c.parent().trigger("sortupdate",{item:c}),c=null)}}),h(t,{started:function(t){t.acceptable=!0,t.activeClass="active",t.hoverClass="over"},overing:function(t){n.is(t.overElm)?(s.forcePlaceholderSize&&l.height(c.outerHeight()),c.hide(),a(t.overElm)[l.index()<a(t.overElm).index()?"after":"before"](l),u.not(l).detach()):u.is(t.overElm)||a(t.overElm).children(s.items).length||(u.detach(),a(t.overElm).append(l))},dropped:function(t){u.filter(":visible").after(c),c.show(),u.detach(),c=null}}),o.data("items",s.items),u=u.add(l),s.connectWith&&a(s.connectWith).add(this).data("connectWith",s.connectWith)}});return r.register(p,"sortable"),t.Sortable=p}),t("skylark-domx-plugins-groups/tiler",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-plugins-base","./groups","./group"],function(t,s,e,i,o,n){var l=n.inherit({klassName:"Tiler",pluginName:"lark.groups.tiler",options:{alignment:"left",infiniteScroll:!1,itemRendered:null,noItemsHTML:"no items found",selectable:!1,viewClass:"repeater-tile",template:'<div class="clearfix repeater-tile" data-container="true" data-infinite="true" data-preserve="shallow"></div>',item:{template:'<div class="thumbnail"><img height="75" src="<%= href %>" width="65"><span><%= title %></span></div>'},renderItem:null},_construct:function(e,i){this.overrided(e,i),this._renderItem=t.template(this.options.item.template);for(var o=0;o<i.items.length;o++){var n=this._renderItem(i.items[o]);this._velm.append(s(n))}}});return i.register(l),o.Tiler=l}),t("skylark-domx-plugins-groups/tree",["skylark-langx/langx","skylark-domx-query","skylark-domx-velm","skylark-domx-lists","skylark-domx-plugins-base","./groups","./group","skylark-domx-plugins-toggles/collapse"],function(t,s,e,i,o,n,l){var a=l.inherit({klassName:"Tree",pluginName:"lark.groups.tree",_construct:function(s,e){this.overrided(s,e),i.multitier(s,t.mixin({hide:function(t){},toggle:function(t){}},this.options))}});return o.register(a),n.Tree=a}),t("skylark-domx-plugins-groups/main",["./groups","./group","./linear","./slidable","./sortable","./tiler","./tree"],function(t){return t}),t("skylark-domx-plugins-groups",["skylark-domx-plugins-groups/main"],function(t){return t})}(e),!i){var l=require("skylark-langx-ns");o?module.exports=l:s.skylarkjs=l}}(0,this);
//# sourceMappingURL=sourcemaps/skylark-domx-plugins-groups.js.map
